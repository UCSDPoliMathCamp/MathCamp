<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Visualization | UCSD Political Science Math Camp</title>
  <meta name="description" content="Text for UCSD Department of Political Science Math Camp" />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Visualization | UCSD Political Science Math Camp" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/./images/logo.png" />
  <meta property="og:description" content="Text for UCSD Department of Political Science Math Camp" />
  <meta name="github-repo" content="UCSDPoliMathCamp/MathCamp" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Visualization | UCSD Political Science Math Camp" />
  
  <meta name="twitter:description" content="Text for UCSD Department of Political Science Math Camp" />
  <meta name="twitter:image" content="/./images/logo.png" />

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="robjloops.html"/>
<link rel="next" href="simulation.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="book-summary-header"><a href="./">UCSD PoliSci Math Camp</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this Booklet</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#authors-and-contributors"><i class="fa fa-check"></i>Authors and Contributors</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributing"><i class="fa fa-check"></i>Contributing</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html"><i class="fa fa-check"></i>Pre-Math Camp Exercises</a><ul>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#operations"><i class="fa fa-check"></i>Operations</a><ul>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#summation"><i class="fa fa-check"></i>Summation</a></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#products"><i class="fa fa-check"></i>Products</a></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#logs-and-exponents"><i class="fa fa-check"></i>Logs and exponents</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#limits"><i class="fa fa-check"></i>Limits</a></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#linear-algebra"><i class="fa fa-check"></i>Linear Algebra</a><ul>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#vectors"><i class="fa fa-check"></i>Vectors</a></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#matrices"><i class="fa fa-check"></i>Matrices</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#calculus"><i class="fa fa-check"></i>Calculus</a></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#optimization"><i class="fa fa-check"></i>Optimization</a></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#probability"><i class="fa fa-check"></i>Probability</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="preliminaries.html"><a href="preliminaries.html"><i class="fa fa-check"></i><b>1</b> Preliminaries</a><ul>
<li class="chapter" data-level="1.1" data-path="preliminaries.html"><a href="preliminaries.html#sum-notation"><i class="fa fa-check"></i><b>1.1</b> Summation Operators</a></li>
<li class="chapter" data-level="1.2" data-path="preliminaries.html"><a href="preliminaries.html#introduction-to-functions"><i class="fa fa-check"></i><b>1.2</b> Introduction to Functions</a></li>
<li class="chapter" data-level="1.3" data-path="preliminaries.html"><a href="preliminaries.html#logexponents"><i class="fa fa-check"></i><b>1.3</b> logs and exponents</a></li>
<li class="chapter" data-level="1.4" data-path="preliminaries.html"><a href="preliminaries.html#graphing-functions"><i class="fa fa-check"></i><b>1.4</b> Graphing Functions</a></li>
<li class="chapter" data-level="1.5" data-path="preliminaries.html"><a href="preliminaries.html#solving-for-variables-and-finding-roots"><i class="fa fa-check"></i><b>1.5</b> Solving for Variables and Finding Roots</a></li>
<li class="chapter" data-level="1.6" data-path="preliminaries.html"><a href="preliminaries.html#sets"><i class="fa fa-check"></i><b>1.6</b> Sets</a></li>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#answers-to-examples-and-exercises"><i class="fa fa-check"></i>Answers to Examples and Exercises</a></li>
</ul></li>
<li class="part"><span><b>I Introduction to R</b></span></li>
<li class="chapter" data-level="2" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html"><i class="fa fa-check"></i><b>2</b> Orientation and Reading in Data</a><ul>
<li class="chapter" data-level="" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#where-are-we-starting"><i class="fa fa-check"></i>Where are we starting?</a></li>
<li class="chapter" data-level="2.1" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#orienting"><i class="fa fa-check"></i><b>2.1</b> Orienting</a><ul>
<li class="chapter" data-level="2.1.1" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#getting-to-know-rstudio"><i class="fa fa-check"></i><b>2.1.1</b> Getting to know RStudio</a></li>
<li class="chapter" data-level="2.1.2" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#rstudio-projects"><i class="fa fa-check"></i><b>2.1.2</b> RStudio Projects</a></li>
<li class="chapter" data-level="2.1.3" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#installing-packages"><i class="fa fa-check"></i><b>2.1.3</b> Installing Packages</a></li>
<li class="chapter" data-level="2.1.4" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#installing-the-tidyverse-and-here-packages"><i class="fa fa-check"></i><b>2.1.4</b> Installing the Tidyverse and Here Packages</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#reading-in-data"><i class="fa fa-check"></i><b>2.2</b> Reading in Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="robjloops.html"><a href="robjloops.html"><i class="fa fa-check"></i><b>3</b> Objects, Functions, Loops</a><ul>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#where-are-we-where-are-we-headed"><i class="fa fa-check"></i>Where are we? Where are we headed?</a></li>
<li class="chapter" data-level="3.1" data-path="robjloops.html"><a href="robjloops.html#what-is-an-object"><i class="fa fa-check"></i><b>3.1</b> What is an object?</a><ul>
<li class="chapter" data-level="3.1.1" data-path="robjloops.html"><a href="robjloops.html#lists"><i class="fa fa-check"></i><b>3.1.1</b> lists</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="robjloops.html"><a href="robjloops.html#making-your-own-objects"><i class="fa fa-check"></i><b>3.2</b> Making your own objects</a><ul>
<li class="chapter" data-level="3.2.1" data-path="robjloops.html"><a href="robjloops.html#seeing-r-through-objects"><i class="fa fa-check"></i><b>3.2.1</b> Seeing R through objects</a></li>
<li class="chapter" data-level="3.2.2" data-path="robjloops.html"><a href="robjloops.html#parsing-an-object-by-strs"><i class="fa fa-check"></i><b>3.2.2</b> Parsing an object by <code>str()s</code></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="robjloops.html"><a href="robjloops.html#types-of-variables"><i class="fa fa-check"></i><b>3.3</b> Types of variables</a><ul>
<li class="chapter" data-level="3.3.1" data-path="robjloops.html"><a href="robjloops.html#scalars"><i class="fa fa-check"></i><b>3.3.1</b> scalars</a></li>
<li class="chapter" data-level="3.3.2" data-path="robjloops.html"><a href="robjloops.html#numeric-vectors"><i class="fa fa-check"></i><b>3.3.2</b> numeric vectors</a></li>
<li class="chapter" data-level="3.3.3" data-path="robjloops.html"><a href="robjloops.html#characters-aka-strings"><i class="fa fa-check"></i><b>3.3.3</b> characters (aka strings)</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="robjloops.html"><a href="robjloops.html#what-is-a-function"><i class="fa fa-check"></i><b>3.4</b> What is a function?</a><ul>
<li class="chapter" data-level="3.4.1" data-path="robjloops.html"><a href="robjloops.html#write-your-own-function"><i class="fa fa-check"></i><b>3.4.1</b> Write your own function</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#checkpoint"><i class="fa fa-check"></i>Checkpoint</a><ul>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#section"><i class="fa fa-check"></i>1</a></li>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#section-1"><i class="fa fa-check"></i>2</a></li>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#section-2"><i class="fa fa-check"></i>3</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="robjloops.html"><a href="robjloops.html#what-is-a-package"><i class="fa fa-check"></i><b>3.5</b> What is a package?</a></li>
<li class="chapter" data-level="3.6" data-path="robjloops.html"><a href="robjloops.html#conditionals"><i class="fa fa-check"></i><b>3.6</b> Conditionals</a></li>
<li class="chapter" data-level="3.7" data-path="robjloops.html"><a href="robjloops.html#for-loops"><i class="fa fa-check"></i><b>3.7</b> For-loops</a></li>
<li class="chapter" data-level="3.8" data-path="robjloops.html"><a href="robjloops.html#nested-loops"><i class="fa fa-check"></i><b>3.8</b> Nested Loops</a></li>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#exercises"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#exercise-1-write-your-own-function"><i class="fa fa-check"></i>Exercise 1: Write your own function</a></li>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#exercise-2-using-loops"><i class="fa fa-check"></i>Exercise 2: Using Loops</a></li>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#exercise-3-storing-information-derived-within-loops-in-a-global-dataframe"><i class="fa fa-check"></i>Exercise 3: Storing information derived within loops in a global dataframe</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>4</b> Visualization</a><ul>
<li class="chapter" data-level="4.1" data-path="dataviz.html"><a href="dataviz.html#univariate-graphs"><i class="fa fa-check"></i><b>4.1</b> Univariate Graphs</a></li>
<li class="chapter" data-level="4.2" data-path="dataviz.html"><a href="dataviz.html#bivariate-graphs"><i class="fa fa-check"></i><b>4.2</b> Bivariate Graphs</a></li>
<li class="chapter" data-level="4.3" data-path="dataviz.html"><a href="dataviz.html#trivariate-graphs"><i class="fa fa-check"></i><b>4.3</b> Trivariate(!) Graphs</a><ul>
<li class="chapter" data-level="4.3.1" data-path="dataviz.html"><a href="dataviz.html#using-colors-and-shapes"><i class="fa fa-check"></i><b>4.3.1</b> Using Colors and Shapes</a></li>
<li class="chapter" data-level="4.3.2" data-path="dataviz.html"><a href="dataviz.html#using-facets-to-graph-comparisons"><i class="fa fa-check"></i><b>4.3.2</b> Using Facets to Graph Comparisons</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="dataviz.html"><a href="dataviz.html#choropleth-maps"><i class="fa fa-check"></i><b>4.4</b> Choropleth Maps</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="simulation.html"><a href="simulation.html"><i class="fa fa-check"></i><b>5</b> Simulation</a><ul>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#motivation-simulation-as-an-analytical-tool"><i class="fa fa-check"></i>Motivation: Simulation as an Analytical Tool</a></li>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#where-are-we-where-are-we-headed-1"><i class="fa fa-check"></i>Where are we? Where are we headed?</a></li>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#check-your-understanding"><i class="fa fa-check"></i>Check your Understanding</a></li>
<li class="chapter" data-level="5.1" data-path="simulation.html"><a href="simulation.html#pick-a-sample-any-sample"><i class="fa fa-check"></i><b>5.1</b> Pick a sample, any sample</a></li>
<li class="chapter" data-level="5.2" data-path="simulation.html"><a href="simulation.html#the-sample-function"><i class="fa fa-check"></i><b>5.2</b> The <code>sample()</code> function</a><ul>
<li class="chapter" data-level="5.2.1" data-path="simulation.html"><a href="simulation.html#sampling-rows-from-a-dataframe"><i class="fa fa-check"></i><b>5.2.1</b> Sampling rows from a dataframe</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="simulation.html"><a href="simulation.html#random-numbers-from-specific-distributions"><i class="fa fa-check"></i><b>5.3</b> Random numbers from specific distributions</a><ul>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#rbinom"><i class="fa fa-check"></i><code>rbinom()</code></a></li>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#runif"><i class="fa fa-check"></i><code>runif()</code></a></li>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#rnorm"><i class="fa fa-check"></i><code>rnorm()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="simulation.html"><a href="simulation.html#r-p-and-d"><i class="fa fa-check"></i><b>5.4</b> r, p, and d</a></li>
<li class="chapter" data-level="5.5" data-path="simulation.html"><a href="simulation.html#set.seed"><i class="fa fa-check"></i><b>5.5</b> <code>set.seed()</code></a></li>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#exercises-1"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#census-sampling"><i class="fa fa-check"></i>Census Sampling</a></li>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#conditional-proportions"><i class="fa fa-check"></i>Conditional Proportions</a></li>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#the-birthday-problem"><i class="fa fa-check"></i>The Birthday problem</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html"><i class="fa fa-check"></i><b>6</b> LaTeX and markdown</a><ul>
<li class="chapter" data-level="" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#where-are-we-where-are-we-headed-2"><i class="fa fa-check"></i>Where are we? Where are we headed?</a></li>
<li class="chapter" data-level="" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#check-your-understanding-1"><i class="fa fa-check"></i>Check your understanding</a></li>
<li class="chapter" data-level="6.1" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#motivation"><i class="fa fa-check"></i><b>6.1</b> Motivation</a></li>
<li class="chapter" data-level="6.2" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#markdown"><i class="fa fa-check"></i><b>6.2</b> Markdown</a><ul>
<li class="chapter" data-level="6.2.1" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#markdown-commands"><i class="fa fa-check"></i><b>6.2.1</b> markdown commands</a></li>
<li class="chapter" data-level="6.2.2" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#your-own-markdown"><i class="fa fa-check"></i><b>6.2.2</b> your own markdown</a></li>
<li class="chapter" data-level="6.2.3" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#a-note-on-plain-text-editors"><i class="fa fa-check"></i><b>6.2.3</b> A note on plain-text editors</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#latex"><i class="fa fa-check"></i><b>6.3</b> LaTeX</a><ul>
<li class="chapter" data-level="6.3.1" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#compile-online"><i class="fa fa-check"></i><b>6.3.1</b> compile online</a></li>
<li class="chapter" data-level="6.3.2" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#compile-your-first-latex-document-locally"><i class="fa fa-check"></i><b>6.3.2</b> compile your first LaTeX document locally</a></li>
<li class="chapter" data-level="6.3.3" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#main-latex-commands"><i class="fa fa-check"></i><b>6.3.3</b> main LaTeX commands</a></li>
<li class="chapter" data-level="" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#further-guides"><i class="fa fa-check"></i>Further Guides</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#bibtex"><i class="fa fa-check"></i><b>6.4</b> BibTeX</a><ul>
<li class="chapter" data-level="6.4.1" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#what-is-a-.bib-file"><i class="fa fa-check"></i><b>6.4.1</b> what is a <code>.bib</code> file?</a></li>
<li class="chapter" data-level="6.4.2" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#what-does-latex-do-with-.bib-files"><i class="fa fa-check"></i><b>6.4.2</b> what does LaTeX do with .bib files?</a></li>
<li class="chapter" data-level="6.4.3" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#stocking-up-on-your-.bib-files"><i class="fa fa-check"></i><b>6.4.3</b> stocking up on your .bib files</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#extension-optional-exercise"><i class="fa fa-check"></i>Extension: Optional Exercise</a></li>
</ul></li>
<li class="part"><span><b>II Linear Algebra</b></span></li>
<li class="chapter" data-level="7" data-path="linearalgebra.html"><a href="linearalgebra.html"><i class="fa fa-check"></i><b>7</b> Linear Algebra</a><ul>
<li class="chapter" data-level="7.1" data-path="linearalgebra.html"><a href="linearalgebra.html#vector-def"><i class="fa fa-check"></i><b>7.1</b> Working with Vectors</a></li>
<li class="chapter" data-level="7.2" data-path="linearalgebra.html"><a href="linearalgebra.html#linearindependence"><i class="fa fa-check"></i><b>7.2</b> Linear Independence</a></li>
<li class="chapter" data-level="7.3" data-path="linearalgebra.html"><a href="linearalgebra.html#matrixbasics"><i class="fa fa-check"></i><b>7.3</b> Basics of Matrix Algebra</a></li>
<li class="chapter" data-level="7.4" data-path="linearalgebra.html"><a href="linearalgebra.html#systems-of-linear-equations"><i class="fa fa-check"></i><b>7.4</b> Systems of Linear Equations</a></li>
<li class="chapter" data-level="7.5" data-path="linearalgebra.html"><a href="linearalgebra.html#systems-of-equations-as-matrices"><i class="fa fa-check"></i><b>7.5</b> Systems of Equations as Matrices</a></li>
<li class="chapter" data-level="7.6" data-path="linearalgebra.html"><a href="linearalgebra.html#finding-solutions-to-augmented-matrices-and-systems-of-equations"><i class="fa fa-check"></i><b>7.6</b> Finding Solutions to Augmented Matrices and Systems of Equations</a></li>
<li class="chapter" data-level="7.7" data-path="linearalgebra.html"><a href="linearalgebra.html#rank-and-whether-a-system-has-one-infinite-or-no-solutions"><i class="fa fa-check"></i><b>7.7</b> Rank — and Whether a System Has One, Infinite, or No Solutions</a></li>
<li class="chapter" data-level="7.8" data-path="linearalgebra.html"><a href="linearalgebra.html#the-inverse-of-a-matrix"><i class="fa fa-check"></i><b>7.8</b> The Inverse of a Matrix</a></li>
<li class="chapter" data-level="7.9" data-path="linearalgebra.html"><a href="linearalgebra.html#linear-systems-and-inverses"><i class="fa fa-check"></i><b>7.9</b> Linear Systems and Inverses</a></li>
<li class="chapter" data-level="7.10" data-path="linearalgebra.html"><a href="linearalgebra.html#determinants"><i class="fa fa-check"></i><b>7.10</b> Determinants</a></li>
<li class="chapter" data-level="7.11" data-path="linearalgebra.html"><a href="linearalgebra.html#getting-inverse-of-a-matrix-using-its-determinant"><i class="fa fa-check"></i><b>7.11</b> Getting Inverse of a Matrix using its Determinant</a></li>
<li class="chapter" data-level="" data-path="linearalgebra.html"><a href="linearalgebra.html#answers-to-examples-and-exercises-1"><i class="fa fa-check"></i>Answers to Examples and Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="rmatrices.html"><a href="rmatrices.html"><i class="fa fa-check"></i><b>8</b> Manipulating Vectors and Matrices</a><ul>
<li class="chapter" data-level="" data-path="rmatrices.html"><a href="rmatrices.html#motivation-1"><i class="fa fa-check"></i>Motivation</a></li>
<li class="chapter" data-level="" data-path="rmatrices.html"><a href="rmatrices.html#where-are-we-where-are-we-headed-3"><i class="fa fa-check"></i>Where are we? Where are we headed?</a></li>
<li class="chapter" data-level="8.1" data-path="rmatrices.html"><a href="rmatrices.html#read-data"><i class="fa fa-check"></i><b>8.1</b> Read Data</a></li>
<li class="chapter" data-level="8.2" data-path="rmatrices.html"><a href="rmatrices.html#data.frame-vs.-matricies"><i class="fa fa-check"></i><b>8.2</b> data.frame vs. matricies</a></li>
<li class="chapter" data-level="8.3" data-path="rmatrices.html"><a href="rmatrices.html#handling-matricies-in-r"><i class="fa fa-check"></i><b>8.3</b> Handling matricies in <code>R</code></a></li>
<li class="chapter" data-level="8.4" data-path="rmatrices.html"><a href="rmatrices.html#variable-transformations"><i class="fa fa-check"></i><b>8.4</b> Variable Transformations</a></li>
<li class="chapter" data-level="8.5" data-path="rmatrices.html"><a href="rmatrices.html#linear-combinations"><i class="fa fa-check"></i><b>8.5</b> Linear Combinations</a></li>
<li class="chapter" data-level="8.6" data-path="rmatrices.html"><a href="rmatrices.html#matrix-basics"><i class="fa fa-check"></i><b>8.6</b> Matrix Basics</a></li>
</ul></li>
<li class="part"><span><b>III Calculus</b></span></li>
<li class="chapter" data-level="9" data-path="limits-precalc.html"><a href="limits-precalc.html"><i class="fa fa-check"></i><b>9</b> Limits</a><ul>
<li class="chapter" data-level="" data-path="limits-precalc.html"><a href="limits-precalc.html#example-the-central-limit-theorem"><i class="fa fa-check"></i>Example: The Central Limit Theorem</a></li>
<li class="chapter" data-level="" data-path="limits-precalc.html"><a href="limits-precalc.html#example-the-law-of-large-numbers"><i class="fa fa-check"></i>Example: The Law of Large Numbers</a></li>
<li class="chapter" data-level="9.1" data-path="limits-precalc.html"><a href="limits-precalc.html#sequences"><i class="fa fa-check"></i><b>9.1</b> Sequences</a></li>
<li class="chapter" data-level="9.2" data-path="limits-precalc.html"><a href="limits-precalc.html#the-limit-of-a-sequence"><i class="fa fa-check"></i><b>9.2</b> The Limit of a Sequence</a></li>
<li class="chapter" data-level="9.3" data-path="limits-precalc.html"><a href="limits-precalc.html#limitsfun"><i class="fa fa-check"></i><b>9.3</b> Limits of a Function</a></li>
<li class="chapter" data-level="9.4" data-path="limits-precalc.html"><a href="limits-precalc.html#continuity"><i class="fa fa-check"></i><b>9.4</b> Continuity</a></li>
<li class="chapter" data-level="" data-path="limits-precalc.html"><a href="limits-precalc.html#answers-to-examples"><i class="fa fa-check"></i>Answers to Examples</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="derivatives.html"><a href="derivatives.html"><i class="fa fa-check"></i><b>10</b> Differential Calculus</a><ul>
<li class="chapter" data-level="10.1" data-path="derivatives.html"><a href="derivatives.html#derivintro"><i class="fa fa-check"></i><b>10.1</b> Derivatives</a><ul>
<li class="chapter" data-level="" data-path="derivatives.html"><a href="derivatives.html#properties-of-derivatives"><i class="fa fa-check"></i>Properties of derivatives</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="derivatives.html"><a href="derivatives.html#derivpoly"><i class="fa fa-check"></i><b>10.2</b> Higher-Order Derivatives</a></li>
<li class="chapter" data-level="10.3" data-path="derivatives.html"><a href="derivatives.html#the-chain-rule"><i class="fa fa-check"></i><b>10.3</b> The Chain Rule</a></li>
<li class="chapter" data-level="10.4" data-path="derivatives.html"><a href="derivatives.html#derivatives-of-logs-and-exponents"><i class="fa fa-check"></i><b>10.4</b> Derivatives of logs and exponents</a><ul>
<li class="chapter" data-level="" data-path="derivatives.html"><a href="derivatives.html#derivatives-of-exponents"><i class="fa fa-check"></i>Derivatives of exponents</a></li>
<li class="chapter" data-level="" data-path="derivatives.html"><a href="derivatives.html#derivatives-of-logs"><i class="fa fa-check"></i>Derivatives of logs</a></li>
<li class="chapter" data-level="" data-path="derivatives.html"><a href="derivatives.html#outline-of-proof"><i class="fa fa-check"></i>Outline of Proof</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="derivatives.html"><a href="derivatives.html#partial-derivatives"><i class="fa fa-check"></i><b>10.5</b> Partial Derivatives</a></li>
<li class="chapter" data-level="10.6" data-path="derivatives.html"><a href="derivatives.html#taylorapprox"><i class="fa fa-check"></i><b>10.6</b> Taylor Approximation</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="optim.html"><a href="optim.html"><i class="fa fa-check"></i><b>11</b> Optimization</a><ul>
<li class="chapter" data-level="11.1" data-path="optim.html"><a href="optim.html#maxima-and-minima"><i class="fa fa-check"></i><b>11.1</b> Maxima and Minima</a></li>
<li class="chapter" data-level="11.2" data-path="optim.html"><a href="optim.html#concavity-of-a-function"><i class="fa fa-check"></i><b>11.2</b> Concavity of a Function</a><ul>
<li class="chapter" data-level="" data-path="optim.html"><a href="optim.html#quadratic-forms"><i class="fa fa-check"></i>Quadratic Forms</a></li>
<li class="chapter" data-level="" data-path="optim.html"><a href="optim.html#definiteness-of-quadratic-forms"><i class="fa fa-check"></i>Definiteness of Quadratic Forms</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="optim.html"><a href="optim.html#gradient-and-foc"><i class="fa fa-check"></i><b>11.3</b> Gradient and FOC</a></li>
<li class="chapter" data-level="11.4" data-path="optim.html"><a href="optim.html#hessian-and-soc"><i class="fa fa-check"></i><b>11.4</b> Hessian and SOC</a><ul>
<li class="chapter" data-level="" data-path="optim.html"><a href="optim.html#definiteness-and-concavity"><i class="fa fa-check"></i>Definiteness and Concavity</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="optim.html"><a href="optim.html#global-maxima-and-minima"><i class="fa fa-check"></i><b>11.5</b> Global Maxima and Minima</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="integrals.html"><a href="integrals.html"><i class="fa fa-check"></i><b>12</b> Integral Calculus</a><ul>
<li class="chapter" data-level="12.1" data-path="integrals.html"><a href="integrals.html#the-indefinite-integral"><i class="fa fa-check"></i><b>12.1</b> The Indefinite Integral</a><ul>
<li class="chapter" data-level="" data-path="integrals.html"><a href="integrals.html#properties-of-integration"><i class="fa fa-check"></i>Properties of Integration</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="integrals.html"><a href="integrals.html#the-definite-integral"><i class="fa fa-check"></i><b>12.2</b> The Definite Integral</a><ul>
<li class="chapter" data-level="" data-path="integrals.html"><a href="integrals.html#properties-for-definite-integrals"><i class="fa fa-check"></i>Properties for Definite Integrals</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="integrals.html"><a href="integrals.html#integration-by-substitution"><i class="fa fa-check"></i><b>12.3</b> Integration by Substitution</a></li>
<li class="chapter" data-level="12.4" data-path="integrals.html"><a href="integrals.html#integration-by-parts"><i class="fa fa-check"></i><b>12.4</b> Integration by Parts</a></li>
<li class="chapter" data-level="" data-path="integrals.html"><a href="integrals.html#answers-to-examples-and-exercises-2"><i class="fa fa-check"></i>Answers to Examples and Exercises</a></li>
</ul></li>
<li class="part"><span><b>IV Probability</b></span></li>
<li class="chapter" data-level="13" data-path="probability-theory.html"><a href="probability-theory.html"><i class="fa fa-check"></i><b>13</b> Probability Theory</a><ul>
<li class="chapter" data-level="13.1" data-path="probability-theory.html"><a href="probability-theory.html#counting-rules"><i class="fa fa-check"></i><b>13.1</b> Counting Rules</a></li>
<li class="chapter" data-level="13.2" data-path="probability-theory.html"><a href="probability-theory.html#setoper"><i class="fa fa-check"></i><b>13.2</b> Sets</a></li>
<li class="chapter" data-level="13.3" data-path="probability-theory.html"><a href="probability-theory.html#probdef"><i class="fa fa-check"></i><b>13.3</b> Probability</a><ul>
<li class="chapter" data-level="" data-path="probability-theory.html"><a href="probability-theory.html#probability-definitions-formal-and-informal"><i class="fa fa-check"></i>Probability Definitions: Formal and Informal</a></li>
<li class="chapter" data-level="" data-path="probability-theory.html"><a href="probability-theory.html#probability-operations"><i class="fa fa-check"></i>Probability Operations</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="probability-theory.html"><a href="probability-theory.html#conditional-probability"><i class="fa fa-check"></i><b>13.4</b> Conditional Probability</a></li>
<li class="chapter" data-level="13.5" data-path="probability-theory.html"><a href="probability-theory.html#bayes-rule"><i class="fa fa-check"></i><b>13.5</b> Bayes Rule</a></li>
<li class="chapter" data-level="13.6" data-path="probability-theory.html"><a href="probability-theory.html#independence"><i class="fa fa-check"></i><b>13.6</b> Independence</a></li>
<li class="chapter" data-level="13.7" data-path="probability-theory.html"><a href="probability-theory.html#random-variables"><i class="fa fa-check"></i><b>13.7</b> Random Variables</a></li>
<li class="chapter" data-level="13.8" data-path="probability-theory.html"><a href="probability-theory.html#distributions"><i class="fa fa-check"></i><b>13.8</b> Distributions</a><ul>
<li class="chapter" data-level="" data-path="probability-theory.html"><a href="probability-theory.html#discrete-random-variables"><i class="fa fa-check"></i>Discrete Random Variables</a></li>
<li class="chapter" data-level="" data-path="probability-theory.html"><a href="probability-theory.html#continuous-random-variables"><i class="fa fa-check"></i>Continuous Random Variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="distribution.html"><a href="distribution.html"><i class="fa fa-check"></i><b>14</b> Summarizing Distributions</a><ul>
<li class="chapter" data-level="14.1" data-path="distribution.html"><a href="distribution.html#expectation"><i class="fa fa-check"></i><b>14.1</b> Expectation</a><ul>
<li class="chapter" data-level="" data-path="distribution.html"><a href="distribution.html#expected-value-of-a-function"><i class="fa fa-check"></i>Expected Value of a Function</a></li>
<li class="chapter" data-level="" data-path="distribution.html"><a href="distribution.html#properties-of-expected-values"><i class="fa fa-check"></i>Properties of Expected Values</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="distribution.html"><a href="distribution.html#variance-and-covariance"><i class="fa fa-check"></i><b>14.2</b> Variance and Covariance</a></li>
<li class="chapter" data-level="14.3" data-path="distribution.html"><a href="distribution.html#common-distributions"><i class="fa fa-check"></i><b>14.3</b> Common Distributions</a></li>
<li class="chapter" data-level="14.4" data-path="distribution.html"><a href="distribution.html#joint-distributions"><i class="fa fa-check"></i><b>14.4</b> Joint Distributions</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>15</b> Learning from Data</a><ul>
<li class="chapter" data-level="15.1" data-path="statistics.html"><a href="statistics.html#summarizing-data"><i class="fa fa-check"></i><b>15.1</b> Summarizing Data</a></li>
<li class="chapter" data-level="15.2" data-path="statistics.html"><a href="statistics.html#law-of-large-numbers"><i class="fa fa-check"></i><b>15.2</b> Law of Large Numbers</a></li>
<li class="chapter" data-level="15.3" data-path="statistics.html"><a href="statistics.html#central-limit-theorem"><i class="fa fa-check"></i><b>15.3</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="" data-path="statistics.html"><a href="statistics.html#answers-to-examples-and-exercises-3"><i class="fa fa-check"></i>Answers to Examples and Exercises</a></li>
</ul></li>
<li class="part"><span><b>V Solutions</b></span></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html"><i class="fa fa-check"></i>Solutions to Warmup Questions</a><ul>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#linear-algebra-1"><i class="fa fa-check"></i>Linear Algebra</a><ul>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#vectors-1"><i class="fa fa-check"></i>Vectors</a></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#matrices-1"><i class="fa fa-check"></i>Matrices</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#operations-1"><i class="fa fa-check"></i>Operations</a><ul>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#summation-1"><i class="fa fa-check"></i>Summation</a></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#products-1"><i class="fa fa-check"></i>Products</a></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#logs-and-exponents-1"><i class="fa fa-check"></i>Logs and exponents</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#limits-1"><i class="fa fa-check"></i>Limits</a></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#calculus-1"><i class="fa fa-check"></i>Calculus</a></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#optimization-1"><i class="fa fa-check"></i>Optimization</a></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#probability-1"><i class="fa fa-check"></i>Probability</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">UCSD Political Science Math Camp</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dataviz" class="section level1 hasAnchor">
<h1><span class="header-section-number">Chapter 4</span> Visualization<a href="dataviz.html#dataviz" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This lesson is about creating effective data visualizations using the <a href="https://ggplot2.tidyverse.org/">ggplot2</a> package (part of the Tidyverse). Becoming good at graphing your data is a key skill you will want to develop while in the PhD program. Each graph you make should clearly communicate an insight without overloading your audience with too much information. Today we will practice the nuts and bolts of the coding necessary to accomplish this.</p>
<p>Let’s start by loading in our external packages: the Tidyverse, and here.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="dataviz.html#cb102-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb102-2"><a href="dataviz.html#cb102-2"></a><span class="kw">library</span>(here)</span></code></pre></div>
<p>We will load in the same “county_elections.csv” data set from the previous chapter. Note: we will also remove each row in the data set containing missing values so that we avoid being spammed with warning messages from R. In a real data analysis project, you will want to investigate the source of missing data rather than blanket-removing everything.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="dataviz.html#cb103-1"></a>county_elections &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;county_elections.csv&quot;</span>))</span>
<span id="cb103-2"><a href="dataviz.html#cb103-2"></a></span>
<span id="cb103-3"><a href="dataviz.html#cb103-3"></a><span class="co"># Remove any rows with missing values to avoid warning messages</span></span>
<span id="cb103-4"><a href="dataviz.html#cb103-4"></a>county_elections &lt;-<span class="st"> </span><span class="kw">na.omit</span>(county_elections)</span></code></pre></div>
<div id="univariate-graphs" class="section level2 hasAnchor">
<h2><span class="header-section-number">4.1</span> Univariate Graphs<a href="dataviz.html#univariate-graphs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The first graph we will make is a histogram. Histograms are the most common type of graph for continuous variables and make it easy to see the spread and central tendency of the data. Let’s plot the distribution of county median household income using the variable <code>median_hh_inc</code> in <code>county_elections</code>.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="dataviz.html#cb104-1"></a><span class="kw">ggplot</span>(county_elections) <span class="op">+</span></span>
<span id="cb104-2"><a href="dataviz.html#cb104-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> median_hh_inc) <span class="op">+</span></span>
<span id="cb104-3"><a href="dataviz.html#cb104-3"></a><span class="st">  </span><span class="kw">geom_histogram</span>()</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="MathCamp_files/figure-html/unnamed-chunk-61-1.png" width="672" />
Each graph you create using ggplot will contain the following three elements</p>
<ol style="list-style-type: decimal">
<li><strong>Data</strong>. You need to tell ggplot which data set the variables that you want to graph come from. This section is <code>ggplot(county_elections)</code> in the code above.</li>
<li><strong>Aesthetics</strong>. Now that we know which data set we’re working with, which variables do you want to use and in what way do we want them to be used? This information goes in the <code>aes()</code> section. Because histograms typically view the distribution of a single variable along the x-axis of a graph, we specify our aesthetic <code>aes(x = median_hh_inc)</code> in the code above.</li>
<li><strong>Geoms</strong>. The “geom” we choose defines the type of graph we’re ultimately creating (histogram, scatter plot, bar graph, etc). As you might expect, <code>geom_histogram()</code> creates a histogram for us!</li>
</ol>
<p>In ggplot we combine these elements together using the <code>+</code> symbol. You could put the data, aesthetics, and geom sections all in the same line of code. But it is good practice to put each on its own line to make your code more readable.</p>
<p>Each geom in ggplot has tons of extra options (also called arguments), which you can specify to make your graphs more pretty. Let’s begin to customize our histogram!</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="dataviz.html#cb106-1"></a><span class="kw">ggplot</span>(county_elections) <span class="op">+</span></span>
<span id="cb106-2"><a href="dataviz.html#cb106-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> median_hh_inc) <span class="op">+</span></span>
<span id="cb106-3"><a href="dataviz.html#cb106-3"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">50</span>,</span>
<span id="cb106-4"><a href="dataviz.html#cb106-4"></a>                 <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb106-5"><a href="dataviz.html#cb106-5"></a>                 <span class="dt">fill =</span> <span class="st">&quot;steelblue&quot;</span>)</span></code></pre></div>
<p><img src="MathCamp_files/figure-html/unnamed-chunk-62-1.png" width="672" />
Wow look at that! Now let’s fix the ugly default names on the x and y axes, and add an informative title for our graph. We add custom labels to a ggplot graph by adding another <code>+</code> followed by a <code>labs()</code> section.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="dataviz.html#cb107-1"></a><span class="kw">ggplot</span>(county_elections) <span class="op">+</span></span>
<span id="cb107-2"><a href="dataviz.html#cb107-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> median_hh_inc) <span class="op">+</span></span>
<span id="cb107-3"><a href="dataviz.html#cb107-3"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">50</span>,</span>
<span id="cb107-4"><a href="dataviz.html#cb107-4"></a>                 <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb107-5"><a href="dataviz.html#cb107-5"></a>                 <span class="dt">fill =</span> <span class="st">&quot;steelblue&quot;</span>) <span class="op">+</span></span>
<span id="cb107-6"><a href="dataviz.html#cb107-6"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Distribution of Median County Incomes&quot;</span>,</span>
<span id="cb107-7"><a href="dataviz.html#cb107-7"></a>       <span class="dt">x =</span> <span class="st">&quot;Median Household Income&quot;</span>,</span>
<span id="cb107-8"><a href="dataviz.html#cb107-8"></a>       <span class="dt">y =</span> <span class="st">&quot;Count&quot;</span>)</span></code></pre></div>
<p><img src="MathCamp_files/figure-html/unnamed-chunk-63-1.png" width="672" /></p>
<p>Themes in ggplot control the overall look and background style of our graphs. For a complete list of themes: <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">Link</a>. There is also a package with a bunch of additional cool themes you can check out here: <a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/">Link</a>. Personally I’m a big fan of <code>theme_minimal()</code>.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="dataviz.html#cb108-1"></a><span class="kw">ggplot</span>(county_elections) <span class="op">+</span></span>
<span id="cb108-2"><a href="dataviz.html#cb108-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> median_hh_inc) <span class="op">+</span></span>
<span id="cb108-3"><a href="dataviz.html#cb108-3"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">50</span>,</span>
<span id="cb108-4"><a href="dataviz.html#cb108-4"></a>                 <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb108-5"><a href="dataviz.html#cb108-5"></a>                 <span class="dt">fill =</span> <span class="st">&quot;steelblue&quot;</span>) <span class="op">+</span></span>
<span id="cb108-6"><a href="dataviz.html#cb108-6"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Distribution of Median County Incomes&quot;</span>,</span>
<span id="cb108-7"><a href="dataviz.html#cb108-7"></a>       <span class="dt">x =</span> <span class="st">&quot;Median Household Income&quot;</span>,</span>
<span id="cb108-8"><a href="dataviz.html#cb108-8"></a>       <span class="dt">y =</span> <span class="st">&quot;Count&quot;</span>) <span class="op">+</span></span>
<span id="cb108-9"><a href="dataviz.html#cb108-9"></a><span class="st">  </span><span class="kw">theme_minimal</span>()</span></code></pre></div>
<p><img src="MathCamp_files/figure-html/unnamed-chunk-64-1.png" width="672" /></p>
<p>Our county median household income variable looks like it’s a bit right-skewed—with a few extremely high income counties shown on the right hand side of the graph. Depending on your research question, it might make more sense to view this distribution on the log scale. It’s very easy to do this in ggplot using <code>scale_x_log10()</code>.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="dataviz.html#cb109-1"></a><span class="kw">ggplot</span>(county_elections) <span class="op">+</span></span>
<span id="cb109-2"><a href="dataviz.html#cb109-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> median_hh_inc) <span class="op">+</span></span>
<span id="cb109-3"><a href="dataviz.html#cb109-3"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">50</span>,</span>
<span id="cb109-4"><a href="dataviz.html#cb109-4"></a>                 <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb109-5"><a href="dataviz.html#cb109-5"></a>                 <span class="dt">fill =</span> <span class="st">&quot;steelblue&quot;</span>) <span class="op">+</span></span>
<span id="cb109-6"><a href="dataviz.html#cb109-6"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Distribution of Median County Incomes&quot;</span>,</span>
<span id="cb109-7"><a href="dataviz.html#cb109-7"></a>       <span class="dt">x =</span> <span class="st">&quot;Median Household Income&quot;</span>,</span>
<span id="cb109-8"><a href="dataviz.html#cb109-8"></a>       <span class="dt">y =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb109-9"><a href="dataviz.html#cb109-9"></a>       <span class="dt">caption =</span> <span class="st">&quot;(log10 scale)&quot;</span>) <span class="op">+</span></span>
<span id="cb109-10"><a href="dataviz.html#cb109-10"></a><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb109-11"><a href="dataviz.html#cb109-11"></a><span class="st">  </span><span class="kw">scale_x_log10</span>(<span class="dt">labels =</span> scales<span class="op">::</span>dollar)</span></code></pre></div>
<p><img src="MathCamp_files/figure-html/unnamed-chunk-65-1.png" width="672" />
Now the data looks almost normally distributed. Also note the use of <code>scales::dollar</code> to make our x-axis a little easier to read. The <a href="https://scales.r-lib.org/">scales package</a> provides a ton of handy functions to deal with ugly default scales in ggplot. The <code>::</code> operator is a way of accessing a single function from a package without loading all its other functions into R. It’s also a way of being explicit about which package’s function you are using. Sometimes you will run across situations where multiple packages have functions with the same name, but which do different things! Speaking from personal experience, this can lead to some really frustrating debugging sessions.</p>
<!-- Class activity - univariate graphs -->
<!-- Choose another univariate geom and variable and graph it -->
</div>
<div id="bivariate-graphs" class="section level2 hasAnchor">
<h2><span class="header-section-number">4.2</span> Bivariate Graphs<a href="dataviz.html#bivariate-graphs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>If histograms are the most common way to plot the distribution of a single continuous variable, scatter plots are the most common way to show the relationship between two continuous variables. Translating our histogram ggplot code to a scatter plot is straightforward: simply add a y-axis variable to <code>aes()</code>, and change the geom to <code>geom_point()</code>. The graph below displays the relationship between median household income and the population percentage in a county who did not complete high school.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="dataviz.html#cb110-1"></a><span class="kw">ggplot</span>(county_elections) <span class="op">+</span></span>
<span id="cb110-2"><a href="dataviz.html#cb110-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> median_hh_inc, <span class="dt">y =</span> lesshs_pct) <span class="op">+</span></span>
<span id="cb110-3"><a href="dataviz.html#cb110-3"></a><span class="st">  </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="MathCamp_files/figure-html/unnamed-chunk-66-1.png" width="672" /></p>
<p>It looks like richer counties have lower rates of their population having less than a high school education. We can use the same customization options from histograms on our scatter plot to make things prettier.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="dataviz.html#cb111-1"></a><span class="kw">ggplot</span>(county_elections) <span class="op">+</span></span>
<span id="cb111-2"><a href="dataviz.html#cb111-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> median_hh_inc, <span class="dt">y =</span> lesshs_pct) <span class="op">+</span></span>
<span id="cb111-3"><a href="dataviz.html#cb111-3"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb111-4"><a href="dataviz.html#cb111-4"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;US Counties by Education and Income&quot;</span>,</span>
<span id="cb111-5"><a href="dataviz.html#cb111-5"></a>       <span class="dt">x =</span> <span class="st">&quot;Median Household Income&quot;</span>,</span>
<span id="cb111-6"><a href="dataviz.html#cb111-6"></a>       <span class="dt">y =</span> <span class="st">&quot;Less than High School %&quot;</span>) <span class="op">+</span></span>
<span id="cb111-7"><a href="dataviz.html#cb111-7"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">label =</span> scales<span class="op">::</span>dollar) <span class="op">+</span></span>
<span id="cb111-8"><a href="dataviz.html#cb111-8"></a><span class="st">  </span><span class="kw">theme_classic</span>()</span></code></pre></div>
<p><img src="MathCamp_files/figure-html/unnamed-chunk-67-1.png" width="672" /></p>
<p>A lot of our data seems to be clustered up together. The solid points in <code>geom_point()</code> obscure this density so let’s fix this using the <code>alpha</code> argument. A geom’s <code>alpha</code> level specifies its transparency and ranges from 1 (solid) to 0 (invisible).</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="dataviz.html#cb112-1"></a><span class="kw">ggplot</span>(county_elections) <span class="op">+</span></span>
<span id="cb112-2"><a href="dataviz.html#cb112-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> median_hh_inc, <span class="dt">y =</span> lesshs_pct) <span class="op">+</span></span>
<span id="cb112-3"><a href="dataviz.html#cb112-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.2</span>, <span class="dt">color =</span> <span class="st">&quot;darkcyan&quot;</span>) <span class="op">+</span></span>
<span id="cb112-4"><a href="dataviz.html#cb112-4"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;US Counties by Education and Income&quot;</span>,</span>
<span id="cb112-5"><a href="dataviz.html#cb112-5"></a>       <span class="dt">x =</span> <span class="st">&quot;Median Household Income&quot;</span>,</span>
<span id="cb112-6"><a href="dataviz.html#cb112-6"></a>       <span class="dt">y =</span> <span class="st">&quot;Less than High School %&quot;</span>) <span class="op">+</span></span>
<span id="cb112-7"><a href="dataviz.html#cb112-7"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">label =</span> scales<span class="op">::</span>dollar) <span class="op">+</span></span>
<span id="cb112-8"><a href="dataviz.html#cb112-8"></a><span class="st">  </span><span class="kw">theme_classic</span>()</span></code></pre></div>
<p><img src="MathCamp_files/figure-html/unnamed-chunk-68-1.png" width="672" /></p>
<p>The negative relationship between our two variables is clear just by eyeballing it, but if we want to be real scientists we need to add the magic regression line. If you are unfamiliar with regression lines, don’t worry—we will be covering them extensively in your introductory quantitative methods course. A linear regression line is essentially just the “best fitting” straight line to the data.</p>
<p>Adding a regression line to the graph gives us our first opportunity to combine multiple <em>geoms</em>. In the code chunk below, notice how we simply use <code>+</code> to add <code>geom_smooth()</code> to our ggplot object. This overlays a fitted line on top of the dots from <code>geom_point()</code>. The argument <code>method = "lm"</code> tells ggplot to use a linear regression line (<code>lm</code> = “linear model”) as opposed to some other type of fitted line.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="dataviz.html#cb113-1"></a><span class="kw">ggplot</span>(county_elections) <span class="op">+</span></span>
<span id="cb113-2"><a href="dataviz.html#cb113-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> median_hh_inc, <span class="dt">y =</span> lesshs_pct) <span class="op">+</span></span>
<span id="cb113-3"><a href="dataviz.html#cb113-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.2</span>, <span class="dt">color =</span> <span class="st">&quot;darkcyan&quot;</span>) <span class="op">+</span></span>
<span id="cb113-4"><a href="dataviz.html#cb113-4"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>) <span class="op">+</span></span>
<span id="cb113-5"><a href="dataviz.html#cb113-5"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;US Counties by Education and Income&quot;</span>,</span>
<span id="cb113-6"><a href="dataviz.html#cb113-6"></a>       <span class="dt">x =</span> <span class="st">&quot;Median Household Income&quot;</span>,</span>
<span id="cb113-7"><a href="dataviz.html#cb113-7"></a>       <span class="dt">y =</span> <span class="st">&quot;Less than High School %&quot;</span>) <span class="op">+</span></span>
<span id="cb113-8"><a href="dataviz.html#cb113-8"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">label =</span> scales<span class="op">::</span>dollar) <span class="op">+</span></span>
<span id="cb113-9"><a href="dataviz.html#cb113-9"></a><span class="st">  </span><span class="kw">theme_classic</span>()</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="MathCamp_files/figure-html/unnamed-chunk-69-1.png" width="672" /></p>
<p>This graph would look way more professional if it didn’t mistakenly predict negative high school percentage values for high income counties. Linear regression is clearly not flexible enough to reflect the true relationship between our two variables.</p>
<p>What if we re-scaled median household income to the log10 scale again?</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="dataviz.html#cb115-1"></a><span class="kw">ggplot</span>(county_elections) <span class="op">+</span></span>
<span id="cb115-2"><a href="dataviz.html#cb115-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> median_hh_inc, <span class="dt">y =</span> lesshs_pct) <span class="op">+</span></span>
<span id="cb115-3"><a href="dataviz.html#cb115-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.2</span>, <span class="dt">color =</span> <span class="st">&quot;darkcyan&quot;</span>) <span class="op">+</span></span>
<span id="cb115-4"><a href="dataviz.html#cb115-4"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb115-5"><a href="dataviz.html#cb115-5"></a>              <span class="dt">formula =</span> <span class="st">&quot;y ~ log(x)&quot;</span>) <span class="op">+</span></span>
<span id="cb115-6"><a href="dataviz.html#cb115-6"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;US Counties by Education and Income&quot;</span>,</span>
<span id="cb115-7"><a href="dataviz.html#cb115-7"></a>       <span class="dt">x =</span> <span class="st">&quot;Median Household Income&quot;</span>,</span>
<span id="cb115-8"><a href="dataviz.html#cb115-8"></a>       <span class="dt">y =</span> <span class="st">&quot;Less than High School %&quot;</span>) <span class="op">+</span></span>
<span id="cb115-9"><a href="dataviz.html#cb115-9"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">label =</span> scales<span class="op">::</span>dollar) <span class="op">+</span></span>
<span id="cb115-10"><a href="dataviz.html#cb115-10"></a><span class="st">  </span><span class="kw">theme_classic</span>()</span></code></pre></div>
<p><img src="MathCamp_files/figure-html/unnamed-chunk-70-1.png" width="672" /></p>
<p>Not perfect, but now our fitted line is looking better!</p>
<!-- Class Activity - bivariate graph -->
<!-- - Make a 2d bin graph -->
</div>
<div id="trivariate-graphs" class="section level2 hasAnchor">
<h2><span class="header-section-number">4.3</span> Trivariate(!) Graphs<a href="dataviz.html#trivariate-graphs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We are now experts are graphing one variable at a time, or two variables together, but what if we want to graph three or more variables at once? There are a number of ways to do this in ggplot as we will see below. However, first a word of caution: beware of cluttering your plots with <em>too</em> much information! It can be tempting to throw everything into a graph, but doing so can obscure the main point you’re trying to make. Always keep this in mind when going beyond graphing two variables at once.</p>
<div id="using-colors-and-shapes" class="section level3 hasAnchor">
<h3><span class="header-section-number">4.3.1</span> Using Colors and Shapes<a href="dataviz.html#using-colors-and-shapes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>county_elections</code> data set does not have a lot of categorical variables for us to work with. So let’s create one!</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="dataviz.html#cb116-1"></a>county_elections &lt;-<span class="st"> </span>county_elections <span class="op">|</span><span class="er">&gt;</span><span class="st"> </span></span>
<span id="cb116-2"><a href="dataviz.html#cb116-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rural =</span> <span class="kw">ifelse</span>(rural_pct <span class="op">&gt;</span><span class="st"> </span><span class="dv">50</span>, <span class="st">&quot;Rural&quot;</span>, <span class="st">&quot;Not Rural&quot;</span>))</span></code></pre></div>
<p>This code chunk uses the <code>mutate</code> function to create a new variable in the <code>county_elections</code> data set called <code>rural</code>. The variable <code>rural</code> takes the value “Rural” if <code>rural_pct</code> is greater than 50 and takes the value “Not Rural” if <code>rural_pct</code> is less than or equal to 50. It is usually not a good idea to dichotomize a continuous variable in this way (using a binary Rural/Not Rural as opposed to the county’s rural percentage). Doing so throws away valuable information that is almost always relevant to the final analysis. In this case we can justify our choice to create a categorical variable because it will make plotting multiple variables much easier.</p>
<p>Let’s now take our scatter plot showing the relationship between county median household income and education level, and color the points based on whether the county is rural or not. Doing so is as easy as adding <code>color = rural</code> to the <code>aes()</code> section in ggplot.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="dataviz.html#cb117-1"></a><span class="kw">ggplot</span>(county_elections) <span class="op">+</span></span>
<span id="cb117-2"><a href="dataviz.html#cb117-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> median_hh_inc, <span class="dt">y =</span> lesshs_pct,</span>
<span id="cb117-3"><a href="dataviz.html#cb117-3"></a>      <span class="dt">color =</span> rural) <span class="op">+</span><span class="st"> </span><span class="co"># Coloring points based on rural variable</span></span>
<span id="cb117-4"><a href="dataviz.html#cb117-4"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span><span class="st"> </span><span class="co"># Removed color from geom</span></span>
<span id="cb117-5"><a href="dataviz.html#cb117-5"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;US Counties by Education and Income&quot;</span>,</span>
<span id="cb117-6"><a href="dataviz.html#cb117-6"></a>       <span class="dt">x =</span> <span class="st">&quot;Median Household Income&quot;</span>,</span>
<span id="cb117-7"><a href="dataviz.html#cb117-7"></a>       <span class="dt">y =</span> <span class="st">&quot;Less than High School %&quot;</span>) <span class="op">+</span></span>
<span id="cb117-8"><a href="dataviz.html#cb117-8"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">label =</span> scales<span class="op">::</span>dollar) <span class="op">+</span></span>
<span id="cb117-9"><a href="dataviz.html#cb117-9"></a><span class="st">  </span><span class="kw">theme_classic</span>()</span></code></pre></div>
<p><img src="MathCamp_files/figure-html/unnamed-chunk-72-1.png" width="672" /></p>
<p>By default, ggplot even gives us a handy legend to tell us which color points correspond to which value of <code>rural</code>.</p>
<p>Now let’s try adding a third variable to our scatter plot which is continuous. One way to do this is with the <code>size</code> option in <code>aes()</code>.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="dataviz.html#cb118-1"></a><span class="kw">ggplot</span>(county_elections) <span class="op">+</span></span>
<span id="cb118-2"><a href="dataviz.html#cb118-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> median_hh_inc, <span class="dt">y =</span> lesshs_pct,</span>
<span id="cb118-3"><a href="dataviz.html#cb118-3"></a>      <span class="dt">size =</span> total_population) <span class="op">+</span><span class="st"> </span><span class="co"># Changing size of points</span></span>
<span id="cb118-4"><a href="dataviz.html#cb118-4"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.2</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb118-5"><a href="dataviz.html#cb118-5"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;US Counties by Education and Income&quot;</span>,</span>
<span id="cb118-6"><a href="dataviz.html#cb118-6"></a>       <span class="dt">x =</span> <span class="st">&quot;Median Household Income&quot;</span>,</span>
<span id="cb118-7"><a href="dataviz.html#cb118-7"></a>       <span class="dt">y =</span> <span class="st">&quot;Less than High School %&quot;</span>) <span class="op">+</span></span>
<span id="cb118-8"><a href="dataviz.html#cb118-8"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">label =</span> scales<span class="op">::</span>dollar) <span class="op">+</span></span>
<span id="cb118-9"><a href="dataviz.html#cb118-9"></a><span class="st">  </span><span class="kw">theme_classic</span>()</span></code></pre></div>
<p><img src="MathCamp_files/figure-html/unnamed-chunk-73-1.png" width="672" /></p>
<p>Are we overdoing things with adding too much information to our graph? Possibly!</p>
</div>
<div id="using-facets-to-graph-comparisons" class="section level3 hasAnchor">
<h3><span class="header-section-number">4.3.2</span> Using Facets to Graph Comparisons<a href="dataviz.html#using-facets-to-graph-comparisons" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One of ggplot’s most powerful features is “faceting”. Facets allow you to easily graph comparisons between different levels of a categorical variable in a clear manner by creating side by side subgraphs. To apply a facet to our ggplot graph we can simply add <code>+ facet_wrap(~ facet_variable)</code>.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="dataviz.html#cb119-1"></a><span class="kw">ggplot</span>(county_elections) <span class="op">+</span></span>
<span id="cb119-2"><a href="dataviz.html#cb119-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> median_hh_inc, <span class="dt">y =</span> lesshs_pct) <span class="op">+</span></span>
<span id="cb119-3"><a href="dataviz.html#cb119-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.2</span>, <span class="dt">color =</span> <span class="st">&quot;darkcyan&quot;</span>) <span class="op">+</span></span>
<span id="cb119-4"><a href="dataviz.html#cb119-4"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;US Counties by Education and Income&quot;</span>,</span>
<span id="cb119-5"><a href="dataviz.html#cb119-5"></a>       <span class="dt">x =</span> <span class="st">&quot;Median Household Income&quot;</span>,</span>
<span id="cb119-6"><a href="dataviz.html#cb119-6"></a>       <span class="dt">y =</span> <span class="st">&quot;Less than High School %&quot;</span>) <span class="op">+</span></span>
<span id="cb119-7"><a href="dataviz.html#cb119-7"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">label =</span> scales<span class="op">::</span>dollar) <span class="op">+</span></span>
<span id="cb119-8"><a href="dataviz.html#cb119-8"></a><span class="st">  </span><span class="kw">theme_classic</span>() <span class="op">+</span></span>
<span id="cb119-9"><a href="dataviz.html#cb119-9"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>rural) <span class="co"># Adding faceting</span></span></code></pre></div>
<p><img src="MathCamp_files/figure-html/unnamed-chunk-74-1.png" width="672" /></p>
<p>As you can see, faceting is so powerful for showing comparisons because it preserves the scale in each subplot. This might be a better choice rather than coloring each point and overlapping everything. We can control whether we want the subgraphs side-by-side or on top of each other with the <code>nrow</code> argument.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="dataviz.html#cb120-1"></a><span class="kw">ggplot</span>(county_elections) <span class="op">+</span></span>
<span id="cb120-2"><a href="dataviz.html#cb120-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> median_hh_inc, <span class="dt">y =</span> lesshs_pct) <span class="op">+</span></span>
<span id="cb120-3"><a href="dataviz.html#cb120-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.2</span>, <span class="dt">color =</span> <span class="st">&quot;darkcyan&quot;</span>) <span class="op">+</span></span>
<span id="cb120-4"><a href="dataviz.html#cb120-4"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;US Counties by Education and Income&quot;</span>,</span>
<span id="cb120-5"><a href="dataviz.html#cb120-5"></a>       <span class="dt">x =</span> <span class="st">&quot;Median Household Income&quot;</span>,</span>
<span id="cb120-6"><a href="dataviz.html#cb120-6"></a>       <span class="dt">y =</span> <span class="st">&quot;Less than High School %&quot;</span>) <span class="op">+</span></span>
<span id="cb120-7"><a href="dataviz.html#cb120-7"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">label =</span> scales<span class="op">::</span>dollar) <span class="op">+</span></span>
<span id="cb120-8"><a href="dataviz.html#cb120-8"></a><span class="st">  </span><span class="kw">theme_classic</span>() <span class="op">+</span></span>
<span id="cb120-9"><a href="dataviz.html#cb120-9"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>rural, <span class="dt">nrow =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="MathCamp_files/figure-html/unnamed-chunk-75-1.png" width="672" /></p>
</div>
</div>
<div id="choropleth-maps" class="section level2 hasAnchor">
<h2><span class="header-section-number">4.4</span> Choropleth Maps<a href="dataviz.html#choropleth-maps" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Making maps in ggplot is relatively straightforward—and a much better idea than copying and pasting your data back and forth between R and a specialized program like ArcGIS. Choropleth maps show data broken down by geographic unit (in this case US counties). We will need to install an additional package <a href="https://urban-institute.medium.com/how-to-create-state-and-county-maps-easily-in-r-577d29300bb2">urbnmapr</a> to help ggplot make this type of graph. To install urbnmapr, run the following command in your Console.</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="dataviz.html#cb121-1"></a>devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;UrbanInstitute/urbnmapr&quot;</span>)</span></code></pre></div>
<p>We use the command <code>devtools::install_github()</code> because the developers of urbnmapr have not submitted their package to the official CRAN repository. So rather than using <code>install.packages</code> like we’re used to, we instead need to install the package directly from GitHub. A lot of excellent packages are not available on CRAN, but be aware that they might not have all the quality-control checks CRAN packages have.</p>
<p>Once you have the urbnmapr package installed, you can load it into R using:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="dataviz.html#cb122-1"></a><span class="kw">library</span>(urbnmapr)</span></code></pre></div>
<p>We need to perform a couple data cleaning steps before the data is ready to map in ggplot. The first step is making our <code>countyCode</code> variable match the format of the corresponding US county code in the urbnmapr data. US counties are each given a unique 5-digit number called a <a href="https://www.nrcs.usda.gov/wps/portal/nrcs/detail/national/home/?cid=nrcs143_013697">FIPS code</a>. However, at some point the “county_elections.csv” file was opened in Excel, which read the FIPS codes as numeric values thereby removing any 0’s from the start of each code. Never open your data in Excel! Now a bunch of the FIPS codes in our data are only 4-digits long instead of 5, which means they will not match the FIPS codes in the urbnmapr data. Luckily we can fix this using the Tidyverse. The function <code>str_pad</code> from the <a href="https://stringr.tidyverse.org/">stringr</a> package can be used to “pad” out a variable with a specific character until it becomes a specific size.</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="dataviz.html#cb123-1"></a>county_elections &lt;-<span class="st"> </span>county_elections <span class="op">|</span><span class="er">&gt;</span><span class="st"> </span></span>
<span id="cb123-2"><a href="dataviz.html#cb123-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">county_fips =</span> <span class="kw">str_pad</span>(countyCode, <span class="dt">width =</span> <span class="dv">5</span>, <span class="dt">pad =</span> <span class="st">&quot;0&quot;</span>))</span></code></pre></div>
<p>Next we need to join our <code>county_elections</code> data with the mapping data from urbnmapr. We will do this using a <code>left_join</code> command, which, if you are not familiar with, we will cover in much greater detail in a future lesson. The big idea here is that we have one data set with county-level variables, such as median household income, that we need to merge with a data set containing the geographic coordinate information for each US county.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="dataviz.html#cb124-1"></a>map_data &lt;-<span class="st"> </span><span class="kw">left_join</span>(county_elections, counties)</span></code></pre></div>
<p>Awesome! Now we are ready to make a map! Let’s check out the geographic distribution of population percentage without a high school diploma.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="dataviz.html#cb125-1"></a><span class="kw">ggplot</span>(map_data) <span class="op">+</span></span>
<span id="cb125-2"><a href="dataviz.html#cb125-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> long, <span class="dt">y =</span> lat, </span>
<span id="cb125-3"><a href="dataviz.html#cb125-3"></a>      <span class="dt">group =</span> group, <span class="dt">fill =</span> lesshs_pct) <span class="op">+</span></span>
<span id="cb125-4"><a href="dataviz.html#cb125-4"></a><span class="st">  </span><span class="kw">geom_polygon</span>(<span class="dt">color =</span> <span class="ot">NA</span>) <span class="op">+</span></span>
<span id="cb125-5"><a href="dataviz.html#cb125-5"></a><span class="st">  </span><span class="co"># This second geom_polygon shows the state borders</span></span>
<span id="cb125-6"><a href="dataviz.html#cb125-6"></a><span class="st">  </span><span class="kw">geom_polygon</span>(<span class="dt">data =</span> states, <span class="dt">mapping =</span> <span class="kw">aes</span>(long, lat, <span class="dt">group =</span> group),</span>
<span id="cb125-7"><a href="dataviz.html#cb125-7"></a>               <span class="dt">fill =</span> <span class="ot">NA</span>, <span class="dt">size =</span> <span class="fl">0.1</span>, <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>) <span class="op">+</span></span>
<span id="cb125-8"><a href="dataviz.html#cb125-8"></a><span class="st">  </span><span class="co"># Making maps requires you to choose a geographic projection</span></span>
<span id="cb125-9"><a href="dataviz.html#cb125-9"></a><span class="st">  </span><span class="kw">coord_map</span>(<span class="dt">projection =</span> <span class="st">&quot;albers&quot;</span>, <span class="dt">lat0 =</span> <span class="dv">39</span>, <span class="dt">lat1 =</span> <span class="dv">45</span>) <span class="op">+</span></span>
<span id="cb125-10"><a href="dataviz.html#cb125-10"></a><span class="st">  </span><span class="co"># theme_void gives us a blank canvas</span></span>
<span id="cb125-11"><a href="dataviz.html#cb125-11"></a><span class="st">  </span><span class="kw">theme_void</span>()</span></code></pre></div>
<p>Don’t worry if you are not yet able to understand every aspect of the ggplot code that produced this map. Try playing around with some of the arguments and see what happens to the map!</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="dataviz.html#cb126-1"></a><span class="kw">ggplot</span>(map_data) <span class="op">+</span></span>
<span id="cb126-2"><a href="dataviz.html#cb126-2"></a><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> long, <span class="dt">y =</span> lat, </span>
<span id="cb126-3"><a href="dataviz.html#cb126-3"></a>      <span class="dt">group =</span> group, <span class="dt">fill =</span> lesshs_pct) <span class="op">+</span></span>
<span id="cb126-4"><a href="dataviz.html#cb126-4"></a><span class="st">  </span><span class="kw">geom_polygon</span>(<span class="dt">color =</span> <span class="ot">NA</span>) <span class="op">+</span></span>
<span id="cb126-5"><a href="dataviz.html#cb126-5"></a><span class="st">  </span><span class="kw">geom_polygon</span>(<span class="dt">data =</span> states, <span class="dt">mapping =</span> <span class="kw">aes</span>(long, lat, <span class="dt">group =</span> group),</span>
<span id="cb126-6"><a href="dataviz.html#cb126-6"></a>               <span class="dt">fill =</span> <span class="ot">NA</span>, <span class="dt">size =</span> <span class="fl">0.1</span>, <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>) <span class="op">+</span></span>
<span id="cb126-7"><a href="dataviz.html#cb126-7"></a><span class="st">  </span><span class="kw">coord_map</span>(<span class="dt">projection =</span> <span class="st">&quot;albers&quot;</span>, <span class="dt">lat0 =</span> <span class="dv">39</span>, <span class="dt">lat1 =</span> <span class="dv">45</span>) <span class="op">+</span></span>
<span id="cb126-8"><a href="dataviz.html#cb126-8"></a><span class="st">  </span><span class="co"># This creates a diverging color scale</span></span>
<span id="cb126-9"><a href="dataviz.html#cb126-9"></a><span class="st">  </span><span class="co"># that is also colorblind friendly</span></span>
<span id="cb126-10"><a href="dataviz.html#cb126-10"></a><span class="st">  </span><span class="kw">scale_fill_viridis_c</span>() <span class="op">+</span></span>
<span id="cb126-11"><a href="dataviz.html#cb126-11"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">fill =</span> <span class="st">&quot;Less than High School %&quot;</span>) <span class="op">+</span></span>
<span id="cb126-12"><a href="dataviz.html#cb126-12"></a><span class="st">  </span><span class="kw">theme_void</span>() <span class="op">+</span></span>
<span id="cb126-13"><a href="dataviz.html#cb126-13"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>) </span></code></pre></div>
<p>Sometimes a diverging color scale is better for contrasting high and low value areas.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="robjloops.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="simulation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": {
"link": "https://github.com/UCSDPoliMathCamp/MathCamp/edit/main/12_visualization.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["MathCamp.pdf", "MathCamp.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"info": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
