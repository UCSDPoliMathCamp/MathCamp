<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Simulation13 | UCSD Political Science Math Camp</title>
  <meta name="description" content="Text for UCSD Department of Political Science Math Camp" />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Simulation13 | UCSD Political Science Math Camp" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/./images/logo.png" />
  <meta property="og:description" content="Text for UCSD Department of Political Science Math Camp" />
  <meta name="github-repo" content="UCSDPoliMathCamp/MathCamp" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Simulation13 | UCSD Political Science Math Camp" />
  
  <meta name="twitter:description" content="Text for UCSD Department of Political Science Math Camp" />
  <meta name="twitter:image" content="/./images/logo.png" />

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dataviz.html"/>
<link rel="next" href="nonwysiwyg.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="book-summary-header"><a href="./">UCSD PoliSci Math Camp</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this Booklet</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#authors-and-contributors"><i class="fa fa-check"></i>Authors and Contributors</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributing"><i class="fa fa-check"></i>Contributing</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html"><i class="fa fa-check"></i>Pre-Math Camp Exercises</a><ul>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#operations"><i class="fa fa-check"></i>Operations</a><ul>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#summation"><i class="fa fa-check"></i>Summation</a></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#products"><i class="fa fa-check"></i>Products</a></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#logs-and-exponents"><i class="fa fa-check"></i>Logs and exponents</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#limits"><i class="fa fa-check"></i>Limits</a></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#linear-algebra"><i class="fa fa-check"></i>Linear Algebra</a><ul>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#vectors"><i class="fa fa-check"></i>Vectors</a></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#matrices"><i class="fa fa-check"></i>Matrices</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#calculus"><i class="fa fa-check"></i>Calculus</a></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#optimization"><i class="fa fa-check"></i>Optimization</a></li>
<li class="chapter" data-level="" data-path="pre-math-camp-exercises.html"><a href="pre-math-camp-exercises.html#probability"><i class="fa fa-check"></i>Probability</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="preliminaries.html"><a href="preliminaries.html"><i class="fa fa-check"></i><b>1</b> Preliminaries</a><ul>
<li class="chapter" data-level="1.1" data-path="preliminaries.html"><a href="preliminaries.html#sum-notation"><i class="fa fa-check"></i><b>1.1</b> Summation Operators</a></li>
<li class="chapter" data-level="1.2" data-path="preliminaries.html"><a href="preliminaries.html#introduction-to-functions"><i class="fa fa-check"></i><b>1.2</b> Introduction to Functions</a></li>
<li class="chapter" data-level="1.3" data-path="preliminaries.html"><a href="preliminaries.html#logexponents"><i class="fa fa-check"></i><b>1.3</b> logs and exponents</a></li>
<li class="chapter" data-level="1.4" data-path="preliminaries.html"><a href="preliminaries.html#graphing-functions"><i class="fa fa-check"></i><b>1.4</b> Graphing Functions</a></li>
<li class="chapter" data-level="1.5" data-path="preliminaries.html"><a href="preliminaries.html#solving-for-variables-and-finding-roots"><i class="fa fa-check"></i><b>1.5</b> Solving for Variables and Finding Roots</a></li>
<li class="chapter" data-level="1.6" data-path="preliminaries.html"><a href="preliminaries.html#sets"><i class="fa fa-check"></i><b>1.6</b> Sets</a></li>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#answers-to-examples-and-exercises"><i class="fa fa-check"></i>Answers to Examples and Exercises</a></li>
</ul></li>
<li class="part"><span><b>I Introduction to R</b></span></li>
<li class="chapter" data-level="2" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html"><i class="fa fa-check"></i><b>2</b> Orientation and Reading in Data</a><ul>
<li class="chapter" data-level="" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#motivation-data-and-you"><i class="fa fa-check"></i>Motivation: Data and You</a><ul>
<li class="chapter" data-level="" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#where-are-we-starting"><i class="fa fa-check"></i>Where are we starting?</a></li>
<li class="chapter" data-level="" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#check-your-understanding"><i class="fa fa-check"></i>Check your understanding</a></li>
</ul></li>
<li class="chapter" data-level="2.1" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#orienting"><i class="fa fa-check"></i><b>2.1</b> Orienting</a></li>
<li class="chapter" data-level="2.2" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#but-what-is-r"><i class="fa fa-check"></i><b>2.2</b> But what is R?</a></li>
<li class="chapter" data-level="2.3" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#base-r-vs.-tidyverse"><i class="fa fa-check"></i><b>2.3</b> Base-R vs. tidyverse</a><ul>
<li class="chapter" data-level="" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#dataframe-subsetting"><i class="fa fa-check"></i>Dataframe subsetting</a></li>
<li class="chapter" data-level="" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#read-data"><i class="fa fa-check"></i>Read data</a></li>
<li class="chapter" data-level="" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#visualization"><i class="fa fa-check"></i>Visualization</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#a-is-for-athens"><i class="fa fa-check"></i><b>2.4</b> A is for Athens</a><ul>
<li class="chapter" data-level="2.4.1" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#locating-the-data"><i class="fa fa-check"></i><b>2.4.1</b> Locating the Data</a></li>
<li class="chapter" data-level="2.4.2" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#reading-in-data"><i class="fa fa-check"></i><b>2.4.2</b> Reading in Data</a></li>
<li class="chapter" data-level="2.4.3" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#inspecting"><i class="fa fa-check"></i><b>2.4.3</b> Inspecting</a></li>
<li class="chapter" data-level="2.4.4" data-path="orientation-and-reading-in-data.html"><a href="orientation-and-reading-in-data.html#finding-observations"><i class="fa fa-check"></i><b>2.4.4</b> Finding observations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="robjloops.html"><a href="robjloops.html"><i class="fa fa-check"></i><b>3</b> Objects, Functions, Loops</a><ul>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#where-are-we-where-are-we-headed"><i class="fa fa-check"></i>Where are we? Where are we headed?</a></li>
<li class="chapter" data-level="3.1" data-path="robjloops.html"><a href="robjloops.html#what-is-an-object"><i class="fa fa-check"></i><b>3.1</b> What is an object?</a><ul>
<li class="chapter" data-level="3.1.1" data-path="robjloops.html"><a href="robjloops.html#lists"><i class="fa fa-check"></i><b>3.1.1</b> lists</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="robjloops.html"><a href="robjloops.html#making-your-own-objects"><i class="fa fa-check"></i><b>3.2</b> Making your own objects</a><ul>
<li class="chapter" data-level="3.2.1" data-path="robjloops.html"><a href="robjloops.html#seeing-r-through-objects"><i class="fa fa-check"></i><b>3.2.1</b> Seeing R through objects</a></li>
<li class="chapter" data-level="3.2.2" data-path="robjloops.html"><a href="robjloops.html#parsing-an-object-by-strs"><i class="fa fa-check"></i><b>3.2.2</b> Parsing an object by <code>str()s</code></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="robjloops.html"><a href="robjloops.html#types-of-variables"><i class="fa fa-check"></i><b>3.3</b> Types of variables</a><ul>
<li class="chapter" data-level="3.3.1" data-path="robjloops.html"><a href="robjloops.html#scalars"><i class="fa fa-check"></i><b>3.3.1</b> scalars</a></li>
<li class="chapter" data-level="3.3.2" data-path="robjloops.html"><a href="robjloops.html#numeric-vectors"><i class="fa fa-check"></i><b>3.3.2</b> numeric vectors</a></li>
<li class="chapter" data-level="3.3.3" data-path="robjloops.html"><a href="robjloops.html#characters-aka-strings"><i class="fa fa-check"></i><b>3.3.3</b> characters (aka strings)</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="robjloops.html"><a href="robjloops.html#what-is-a-function"><i class="fa fa-check"></i><b>3.4</b> What is a function?</a><ul>
<li class="chapter" data-level="3.4.1" data-path="robjloops.html"><a href="robjloops.html#write-your-own-function"><i class="fa fa-check"></i><b>3.4.1</b> Write your own function</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#checkpoint"><i class="fa fa-check"></i>Checkpoint</a><ul>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#section"><i class="fa fa-check"></i>1</a></li>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#section-1"><i class="fa fa-check"></i>2</a></li>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#section-2"><i class="fa fa-check"></i>3</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="robjloops.html"><a href="robjloops.html#what-is-a-package"><i class="fa fa-check"></i><b>3.5</b> What is a package?</a></li>
<li class="chapter" data-level="3.6" data-path="robjloops.html"><a href="robjloops.html#conditionals"><i class="fa fa-check"></i><b>3.6</b> Conditionals</a></li>
<li class="chapter" data-level="3.7" data-path="robjloops.html"><a href="robjloops.html#for-loops"><i class="fa fa-check"></i><b>3.7</b> For-loops</a></li>
<li class="chapter" data-level="3.8" data-path="robjloops.html"><a href="robjloops.html#nested-loops"><i class="fa fa-check"></i><b>3.8</b> Nested Loops</a></li>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#exercises"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#exercise-1-write-your-own-function"><i class="fa fa-check"></i>Exercise 1: Write your own function</a></li>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#exercise-2-using-loops"><i class="fa fa-check"></i>Exercise 2: Using Loops</a></li>
<li class="chapter" data-level="" data-path="robjloops.html"><a href="robjloops.html#exercise-3-storing-information-derived-within-loops-in-a-global-dataframe"><i class="fa fa-check"></i>Exercise 3: Storing information derived within loops in a global dataframe</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>4</b> Visualization</a><ul>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#motivation-the-law-of-the-census"><i class="fa fa-check"></i>Motivation: The Law of the Census</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#where-are-we-where-are-we-headed-1"><i class="fa fa-check"></i>Where are we? Where are we headed?</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#check-your-understanding-1"><i class="fa fa-check"></i>Check your understanding</a></li>
<li class="chapter" data-level="4.1" data-path="dataviz.html"><a href="dataviz.html#read-data-1"><i class="fa fa-check"></i><b>4.1</b> Read data</a></li>
<li class="chapter" data-level="4.2" data-path="dataviz.html"><a href="dataviz.html#counting"><i class="fa fa-check"></i><b>4.2</b> Counting</a></li>
<li class="chapter" data-level="4.3" data-path="dataviz.html"><a href="dataviz.html#tabulating"><i class="fa fa-check"></i><b>4.3</b> Tabulating</a></li>
<li class="chapter" data-level="4.4" data-path="dataviz.html"><a href="dataviz.html#base-r-graphics-and-ggplot"><i class="fa fa-check"></i><b>4.4</b> base R graphics and ggplot</a><ul>
<li class="chapter" data-level="4.4.1" data-path="dataviz.html"><a href="dataviz.html#base-r"><i class="fa fa-check"></i><b>4.4.1</b> base R</a></li>
<li class="chapter" data-level="4.4.2" data-path="dataviz.html"><a href="dataviz.html#ggplot"><i class="fa fa-check"></i><b>4.4.2</b> ggplot</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="dataviz.html"><a href="dataviz.html#improving-your-graphics"><i class="fa fa-check"></i><b>4.5</b> Improving your graphics</a></li>
<li class="chapter" data-level="4.6" data-path="dataviz.html"><a href="dataviz.html#cross-tabs"><i class="fa fa-check"></i><b>4.6</b> Cross-tabs</a></li>
<li class="chapter" data-level="4.7" data-path="dataviz.html"><a href="dataviz.html#composition-plots"><i class="fa fa-check"></i><b>4.7</b> Composition Plots</a></li>
<li class="chapter" data-level="4.8" data-path="dataviz.html"><a href="dataviz.html#line-graphs"><i class="fa fa-check"></i><b>4.8</b> Line graphs</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="simulation.html"><a href="simulation.html"><i class="fa fa-check"></i><b>5</b> Simulation</a><ul>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#motivation-simulation-as-an-analytical-tool"><i class="fa fa-check"></i>Motivation: Simulation as an Analytical Tool</a></li>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#where-are-we-where-are-we-headed-2"><i class="fa fa-check"></i>Where are we? Where are we headed?</a></li>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#check-your-understanding-2"><i class="fa fa-check"></i>Check your Understanding</a></li>
<li class="chapter" data-level="5.1" data-path="simulation.html"><a href="simulation.html#pick-a-sample-any-sample"><i class="fa fa-check"></i><b>5.1</b> Pick a sample, any sample</a></li>
<li class="chapter" data-level="5.2" data-path="simulation.html"><a href="simulation.html#the-sample-function"><i class="fa fa-check"></i><b>5.2</b> The <code>sample()</code> function</a><ul>
<li class="chapter" data-level="5.2.1" data-path="simulation.html"><a href="simulation.html#sampling-rows-from-a-dataframe"><i class="fa fa-check"></i><b>5.2.1</b> Sampling rows from a dataframe</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="simulation.html"><a href="simulation.html#random-numbers-from-specific-distributions"><i class="fa fa-check"></i><b>5.3</b> Random numbers from specific distributions</a><ul>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#rbinom"><i class="fa fa-check"></i><code>rbinom()</code></a></li>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#runif"><i class="fa fa-check"></i><code>runif()</code></a></li>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#rnorm"><i class="fa fa-check"></i><code>rnorm()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="simulation.html"><a href="simulation.html#r-p-and-d"><i class="fa fa-check"></i><b>5.4</b> r, p, and d</a></li>
<li class="chapter" data-level="5.5" data-path="simulation.html"><a href="simulation.html#set.seed"><i class="fa fa-check"></i><b>5.5</b> <code>set.seed()</code></a></li>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#exercises-1"><i class="fa fa-check"></i>Exercises</a><ul>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#census-sampling"><i class="fa fa-check"></i>Census Sampling</a></li>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#conditional-proportions"><i class="fa fa-check"></i>Conditional Proportions</a></li>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#the-birthday-problem"><i class="fa fa-check"></i>The Birthday problem</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html"><i class="fa fa-check"></i><b>6</b> LaTeX and markdown</a><ul>
<li class="chapter" data-level="" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#where-are-we-where-are-we-headed-3"><i class="fa fa-check"></i>Where are we? Where are we headed?</a></li>
<li class="chapter" data-level="" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#check-your-understanding-3"><i class="fa fa-check"></i>Check your understanding</a></li>
<li class="chapter" data-level="6.1" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#motivation"><i class="fa fa-check"></i><b>6.1</b> Motivation</a></li>
<li class="chapter" data-level="6.2" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#markdown"><i class="fa fa-check"></i><b>6.2</b> Markdown</a><ul>
<li class="chapter" data-level="6.2.1" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#markdown-commands"><i class="fa fa-check"></i><b>6.2.1</b> markdown commands</a></li>
<li class="chapter" data-level="6.2.2" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#your-own-markdown"><i class="fa fa-check"></i><b>6.2.2</b> your own markdown</a></li>
<li class="chapter" data-level="6.2.3" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#a-note-on-plain-text-editors"><i class="fa fa-check"></i><b>6.2.3</b> A note on plain-text editors</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#latex"><i class="fa fa-check"></i><b>6.3</b> LaTeX</a><ul>
<li class="chapter" data-level="6.3.1" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#compile-online"><i class="fa fa-check"></i><b>6.3.1</b> compile online</a></li>
<li class="chapter" data-level="6.3.2" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#compile-your-first-latex-document-locally"><i class="fa fa-check"></i><b>6.3.2</b> compile your first LaTeX document locally</a></li>
<li class="chapter" data-level="6.3.3" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#main-latex-commands"><i class="fa fa-check"></i><b>6.3.3</b> main LaTeX commands</a></li>
<li class="chapter" data-level="" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#further-guides"><i class="fa fa-check"></i>Further Guides</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#bibtex"><i class="fa fa-check"></i><b>6.4</b> BibTeX</a><ul>
<li class="chapter" data-level="6.4.1" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#what-is-a-.bib-file"><i class="fa fa-check"></i><b>6.4.1</b> what is a <code>.bib</code> file?</a></li>
<li class="chapter" data-level="6.4.2" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#what-does-latex-do-with-.bib-files"><i class="fa fa-check"></i><b>6.4.2</b> what does LaTeX do with .bib files?</a></li>
<li class="chapter" data-level="6.4.3" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#stocking-up-on-your-.bib-files"><i class="fa fa-check"></i><b>6.4.3</b> stocking up on your .bib files</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="nonwysiwyg.html"><a href="nonwysiwyg.html#extension-optional-exercise"><i class="fa fa-check"></i>Extension: Optional Exercise</a></li>
</ul></li>
<li class="part"><span><b>II Linear Algebra</b></span></li>
<li class="chapter" data-level="7" data-path="linearalgebra.html"><a href="linearalgebra.html"><i class="fa fa-check"></i><b>7</b> Linear Algebra</a><ul>
<li class="chapter" data-level="7.1" data-path="linearalgebra.html"><a href="linearalgebra.html#vector-def"><i class="fa fa-check"></i><b>7.1</b> Working with Vectors</a></li>
<li class="chapter" data-level="7.2" data-path="linearalgebra.html"><a href="linearalgebra.html#linearindependence"><i class="fa fa-check"></i><b>7.2</b> Linear Independence</a></li>
<li class="chapter" data-level="7.3" data-path="linearalgebra.html"><a href="linearalgebra.html#matrixbasics"><i class="fa fa-check"></i><b>7.3</b> Basics of Matrix Algebra</a></li>
<li class="chapter" data-level="7.4" data-path="linearalgebra.html"><a href="linearalgebra.html#systems-of-linear-equations"><i class="fa fa-check"></i><b>7.4</b> Systems of Linear Equations</a></li>
<li class="chapter" data-level="7.5" data-path="linearalgebra.html"><a href="linearalgebra.html#systems-of-equations-as-matrices"><i class="fa fa-check"></i><b>7.5</b> Systems of Equations as Matrices</a></li>
<li class="chapter" data-level="7.6" data-path="linearalgebra.html"><a href="linearalgebra.html#finding-solutions-to-augmented-matrices-and-systems-of-equations"><i class="fa fa-check"></i><b>7.6</b> Finding Solutions to Augmented Matrices and Systems of Equations</a></li>
<li class="chapter" data-level="7.7" data-path="linearalgebra.html"><a href="linearalgebra.html#rank-and-whether-a-system-has-one-infinite-or-no-solutions"><i class="fa fa-check"></i><b>7.7</b> Rank — and Whether a System Has One, Infinite, or No Solutions</a></li>
<li class="chapter" data-level="7.8" data-path="linearalgebra.html"><a href="linearalgebra.html#the-inverse-of-a-matrix"><i class="fa fa-check"></i><b>7.8</b> The Inverse of a Matrix</a></li>
<li class="chapter" data-level="7.9" data-path="linearalgebra.html"><a href="linearalgebra.html#linear-systems-and-inverses"><i class="fa fa-check"></i><b>7.9</b> Linear Systems and Inverses</a></li>
<li class="chapter" data-level="7.10" data-path="linearalgebra.html"><a href="linearalgebra.html#determinants"><i class="fa fa-check"></i><b>7.10</b> Determinants</a></li>
<li class="chapter" data-level="7.11" data-path="linearalgebra.html"><a href="linearalgebra.html#getting-inverse-of-a-matrix-using-its-determinant"><i class="fa fa-check"></i><b>7.11</b> Getting Inverse of a Matrix using its Determinant</a></li>
<li class="chapter" data-level="" data-path="linearalgebra.html"><a href="linearalgebra.html#answers-to-examples-and-exercises-1"><i class="fa fa-check"></i>Answers to Examples and Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="rmatrices.html"><a href="rmatrices.html"><i class="fa fa-check"></i><b>8</b> Manipulating Vectors and Matrices</a><ul>
<li class="chapter" data-level="" data-path="rmatrices.html"><a href="rmatrices.html#motivation-1"><i class="fa fa-check"></i>Motivation</a></li>
<li class="chapter" data-level="" data-path="rmatrices.html"><a href="rmatrices.html#where-are-we-where-are-we-headed-4"><i class="fa fa-check"></i>Where are we? Where are we headed?</a></li>
<li class="chapter" data-level="8.1" data-path="rmatrices.html"><a href="rmatrices.html#read-data-2"><i class="fa fa-check"></i><b>8.1</b> Read Data</a></li>
<li class="chapter" data-level="8.2" data-path="rmatrices.html"><a href="rmatrices.html#data.frame-vs.-matricies"><i class="fa fa-check"></i><b>8.2</b> data.frame vs. matricies</a></li>
<li class="chapter" data-level="8.3" data-path="rmatrices.html"><a href="rmatrices.html#handling-matricies-in-r"><i class="fa fa-check"></i><b>8.3</b> Handling matricies in <code>R</code></a></li>
<li class="chapter" data-level="8.4" data-path="rmatrices.html"><a href="rmatrices.html#variable-transformations"><i class="fa fa-check"></i><b>8.4</b> Variable Transformations</a></li>
<li class="chapter" data-level="8.5" data-path="rmatrices.html"><a href="rmatrices.html#linear-combinations"><i class="fa fa-check"></i><b>8.5</b> Linear Combinations</a></li>
<li class="chapter" data-level="8.6" data-path="rmatrices.html"><a href="rmatrices.html#matrix-basics"><i class="fa fa-check"></i><b>8.6</b> Matrix Basics</a></li>
</ul></li>
<li class="part"><span><b>III Calculus</b></span></li>
<li class="chapter" data-level="9" data-path="limits-precalc.html"><a href="limits-precalc.html"><i class="fa fa-check"></i><b>9</b> Limits</a><ul>
<li class="chapter" data-level="" data-path="limits-precalc.html"><a href="limits-precalc.html#example-the-central-limit-theorem"><i class="fa fa-check"></i>Example: The Central Limit Theorem</a></li>
<li class="chapter" data-level="" data-path="limits-precalc.html"><a href="limits-precalc.html#example-the-law-of-large-numbers"><i class="fa fa-check"></i>Example: The Law of Large Numbers</a></li>
<li class="chapter" data-level="9.1" data-path="limits-precalc.html"><a href="limits-precalc.html#sequences"><i class="fa fa-check"></i><b>9.1</b> Sequences</a></li>
<li class="chapter" data-level="9.2" data-path="limits-precalc.html"><a href="limits-precalc.html#the-limit-of-a-sequence"><i class="fa fa-check"></i><b>9.2</b> The Limit of a Sequence</a></li>
<li class="chapter" data-level="9.3" data-path="limits-precalc.html"><a href="limits-precalc.html#limitsfun"><i class="fa fa-check"></i><b>9.3</b> Limits of a Function</a></li>
<li class="chapter" data-level="9.4" data-path="limits-precalc.html"><a href="limits-precalc.html#continuity"><i class="fa fa-check"></i><b>9.4</b> Continuity</a></li>
<li class="chapter" data-level="" data-path="limits-precalc.html"><a href="limits-precalc.html#answers-to-examples"><i class="fa fa-check"></i>Answers to Examples</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="derivatives.html"><a href="derivatives.html"><i class="fa fa-check"></i><b>10</b> Differential Calculus</a><ul>
<li class="chapter" data-level="10.1" data-path="derivatives.html"><a href="derivatives.html#derivintro"><i class="fa fa-check"></i><b>10.1</b> Derivatives</a><ul>
<li class="chapter" data-level="" data-path="derivatives.html"><a href="derivatives.html#properties-of-derivatives"><i class="fa fa-check"></i>Properties of derivatives</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="derivatives.html"><a href="derivatives.html#derivpoly"><i class="fa fa-check"></i><b>10.2</b> Higher-Order Derivatives</a></li>
<li class="chapter" data-level="10.3" data-path="derivatives.html"><a href="derivatives.html#the-chain-rule"><i class="fa fa-check"></i><b>10.3</b> The Chain Rule</a></li>
<li class="chapter" data-level="10.4" data-path="derivatives.html"><a href="derivatives.html#derivatives-of-logs-and-exponents"><i class="fa fa-check"></i><b>10.4</b> Derivatives of logs and exponents</a><ul>
<li class="chapter" data-level="" data-path="derivatives.html"><a href="derivatives.html#derivatives-of-exponents"><i class="fa fa-check"></i>Derivatives of exponents</a></li>
<li class="chapter" data-level="" data-path="derivatives.html"><a href="derivatives.html#derivatives-of-logs"><i class="fa fa-check"></i>Derivatives of logs</a></li>
<li class="chapter" data-level="" data-path="derivatives.html"><a href="derivatives.html#outline-of-proof"><i class="fa fa-check"></i>Outline of Proof</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="derivatives.html"><a href="derivatives.html#partial-derivatives"><i class="fa fa-check"></i><b>10.5</b> Partial Derivatives</a></li>
<li class="chapter" data-level="10.6" data-path="derivatives.html"><a href="derivatives.html#taylorapprox"><i class="fa fa-check"></i><b>10.6</b> Taylor Approximation</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="optim.html"><a href="optim.html"><i class="fa fa-check"></i><b>11</b> Optimization</a><ul>
<li class="chapter" data-level="11.1" data-path="optim.html"><a href="optim.html#maxima-and-minima"><i class="fa fa-check"></i><b>11.1</b> Maxima and Minima</a></li>
<li class="chapter" data-level="11.2" data-path="optim.html"><a href="optim.html#concavity-of-a-function"><i class="fa fa-check"></i><b>11.2</b> Concavity of a Function</a><ul>
<li class="chapter" data-level="" data-path="optim.html"><a href="optim.html#quadratic-forms"><i class="fa fa-check"></i>Quadratic Forms</a></li>
<li class="chapter" data-level="" data-path="optim.html"><a href="optim.html#definiteness-of-quadratic-forms"><i class="fa fa-check"></i>Definiteness of Quadratic Forms</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="optim.html"><a href="optim.html#gradient-and-foc"><i class="fa fa-check"></i><b>11.3</b> Gradient and FOC</a></li>
<li class="chapter" data-level="11.4" data-path="optim.html"><a href="optim.html#hessian-and-soc"><i class="fa fa-check"></i><b>11.4</b> Hessian and SOC</a><ul>
<li class="chapter" data-level="" data-path="optim.html"><a href="optim.html#definiteness-and-concavity"><i class="fa fa-check"></i>Definiteness and Concavity</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="optim.html"><a href="optim.html#global-maxima-and-minima"><i class="fa fa-check"></i><b>11.5</b> Global Maxima and Minima</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="integrals.html"><a href="integrals.html"><i class="fa fa-check"></i><b>12</b> Integral Calculus</a><ul>
<li class="chapter" data-level="12.1" data-path="integrals.html"><a href="integrals.html#the-indefinite-integral"><i class="fa fa-check"></i><b>12.1</b> The Indefinite Integral</a><ul>
<li class="chapter" data-level="" data-path="integrals.html"><a href="integrals.html#properties-of-integration"><i class="fa fa-check"></i>Properties of Integration</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="integrals.html"><a href="integrals.html#the-definite-integral"><i class="fa fa-check"></i><b>12.2</b> The Definite Integral</a><ul>
<li class="chapter" data-level="" data-path="integrals.html"><a href="integrals.html#properties-for-definite-integrals"><i class="fa fa-check"></i>Properties for Definite Integrals</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="integrals.html"><a href="integrals.html#integration-by-substitution"><i class="fa fa-check"></i><b>12.3</b> Integration by Substitution</a></li>
<li class="chapter" data-level="12.4" data-path="integrals.html"><a href="integrals.html#integration-by-parts"><i class="fa fa-check"></i><b>12.4</b> Integration by Parts</a></li>
<li class="chapter" data-level="" data-path="integrals.html"><a href="integrals.html#answers-to-examples-and-exercises-2"><i class="fa fa-check"></i>Answers to Examples and Exercises</a></li>
</ul></li>
<li class="part"><span><b>IV Probability</b></span></li>
<li class="chapter" data-level="13" data-path="probability-theory.html"><a href="probability-theory.html"><i class="fa fa-check"></i><b>13</b> Probability Theory</a><ul>
<li class="chapter" data-level="13.1" data-path="probability-theory.html"><a href="probability-theory.html#counting-rules"><i class="fa fa-check"></i><b>13.1</b> Counting Rules</a></li>
<li class="chapter" data-level="13.2" data-path="probability-theory.html"><a href="probability-theory.html#setoper"><i class="fa fa-check"></i><b>13.2</b> Sets</a></li>
<li class="chapter" data-level="13.3" data-path="probability-theory.html"><a href="probability-theory.html#probdef"><i class="fa fa-check"></i><b>13.3</b> Probability</a><ul>
<li class="chapter" data-level="" data-path="probability-theory.html"><a href="probability-theory.html#probability-definitions-formal-and-informal"><i class="fa fa-check"></i>Probability Definitions: Formal and Informal</a></li>
<li class="chapter" data-level="" data-path="probability-theory.html"><a href="probability-theory.html#probability-operations"><i class="fa fa-check"></i>Probability Operations</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="probability-theory.html"><a href="probability-theory.html#conditional-probability"><i class="fa fa-check"></i><b>13.4</b> Conditional Probability</a></li>
<li class="chapter" data-level="13.5" data-path="probability-theory.html"><a href="probability-theory.html#bayes-rule"><i class="fa fa-check"></i><b>13.5</b> Bayes Rule</a></li>
<li class="chapter" data-level="13.6" data-path="probability-theory.html"><a href="probability-theory.html#independence"><i class="fa fa-check"></i><b>13.6</b> Independence</a></li>
<li class="chapter" data-level="13.7" data-path="probability-theory.html"><a href="probability-theory.html#random-variables"><i class="fa fa-check"></i><b>13.7</b> Random Variables</a></li>
<li class="chapter" data-level="13.8" data-path="probability-theory.html"><a href="probability-theory.html#distributions"><i class="fa fa-check"></i><b>13.8</b> Distributions</a><ul>
<li class="chapter" data-level="" data-path="probability-theory.html"><a href="probability-theory.html#discrete-random-variables"><i class="fa fa-check"></i>Discrete Random Variables</a></li>
<li class="chapter" data-level="" data-path="probability-theory.html"><a href="probability-theory.html#continuous-random-variables"><i class="fa fa-check"></i>Continuous Random Variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="distribution.html"><a href="distribution.html"><i class="fa fa-check"></i><b>14</b> Summarizing Distributions</a><ul>
<li class="chapter" data-level="14.1" data-path="distribution.html"><a href="distribution.html#expectation"><i class="fa fa-check"></i><b>14.1</b> Expectation</a><ul>
<li class="chapter" data-level="" data-path="distribution.html"><a href="distribution.html#expected-value-of-a-function"><i class="fa fa-check"></i>Expected Value of a Function</a></li>
<li class="chapter" data-level="" data-path="distribution.html"><a href="distribution.html#properties-of-expected-values"><i class="fa fa-check"></i>Properties of Expected Values</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="distribution.html"><a href="distribution.html#variance-and-covariance"><i class="fa fa-check"></i><b>14.2</b> Variance and Covariance</a></li>
<li class="chapter" data-level="14.3" data-path="distribution.html"><a href="distribution.html#common-distributions"><i class="fa fa-check"></i><b>14.3</b> Common Distributions</a></li>
<li class="chapter" data-level="14.4" data-path="distribution.html"><a href="distribution.html#joint-distributions"><i class="fa fa-check"></i><b>14.4</b> Joint Distributions</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>15</b> Learning from Data</a><ul>
<li class="chapter" data-level="15.1" data-path="statistics.html"><a href="statistics.html#summarizing-data"><i class="fa fa-check"></i><b>15.1</b> Summarizing Data</a></li>
<li class="chapter" data-level="15.2" data-path="statistics.html"><a href="statistics.html#law-of-large-numbers"><i class="fa fa-check"></i><b>15.2</b> Law of Large Numbers</a></li>
<li class="chapter" data-level="15.3" data-path="statistics.html"><a href="statistics.html#central-limit-theorem"><i class="fa fa-check"></i><b>15.3</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="" data-path="statistics.html"><a href="statistics.html#answers-to-examples-and-exercises-3"><i class="fa fa-check"></i>Answers to Examples and Exercises</a></li>
</ul></li>
<li class="part"><span><b>V Solutions</b></span></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html"><i class="fa fa-check"></i>Solutions to Warmup Questions</a><ul>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#linear-algebra-1"><i class="fa fa-check"></i>Linear Algebra</a><ul>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#vectors-1"><i class="fa fa-check"></i>Vectors</a></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#matrices-1"><i class="fa fa-check"></i>Matrices</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#operations-1"><i class="fa fa-check"></i>Operations</a><ul>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#summation-1"><i class="fa fa-check"></i>Summation</a></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#products-1"><i class="fa fa-check"></i>Products</a></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#logs-and-exponents-1"><i class="fa fa-check"></i>Logs and exponents</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#limits-1"><i class="fa fa-check"></i>Limits</a></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#calculus-1"><i class="fa fa-check"></i>Calculus</a></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#optimization-1"><i class="fa fa-check"></i>Optimization</a></li>
<li class="chapter" data-level="" data-path="solutions-to-warmup-questions.html"><a href="solutions-to-warmup-questions.html#probability-1"><i class="fa fa-check"></i>Probability</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">UCSD Political Science Math Camp</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="simulation" class="section level1 hasAnchor">
<h1><span class="header-section-number">Chapter 5</span> Simulation<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a><a href="simulation.html#simulation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="motivation-simulation-as-an-analytical-tool" class="section level3 unnumbered hasAnchor">
<h3>Motivation: Simulation as an Analytical Tool<a href="simulation.html#motivation-simulation-as-an-analytical-tool" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An increasing amount of political science contributions now include a simulation.</p>
<ul>
<li><a href="http://www-personal.umich.edu/~axe/research/Dissemination.pdf">Axelrod (1977)</a> demonstrated via simulation how atomized individuals evolve to be grouped in similar clusters or countries, a model of culture.<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a></li>
<li><a href="http://www-personal.umich.edu/~jowei/florida.pdf">Chen and Rodden (2013)</a> argued in a 2013 article that the vote-seat inequality in U.S. elections that is often attributed to intentional partisan gerrymandering can actually attributed to simply the reality of “human geography” – Democratic voters tend to be concentrated in smaller area. Put another way, no feasible form of gerrymandering could spread out Democratic voters in such a way to equalize their vote-seat translation effectiveness. After demonstrating the empirical pattern of human geography, they advance their key claim by simulating thousands of redistricting plans and record the vote-seat ratio.<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a></li>
<li><a href="https://gking.harvard.edu/files/abs/evil-abs.shtml">Gary King, James Honaker, and multiple other authors</a> propose a way to analyze missing data with a method of multiple imputation, which uses a lot of simulation from a researcher’s observed dataset.<a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a> (Software: Amelia<a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a>)</li>
</ul>
<p>Statistical methods also incorporate simulation:</p>
<ul>
<li>The bootstrap: a statistical method for estimating uncertainty around some parameter by re-sampling observations.</li>
<li>Bagging: a method for improving machine learning predictions by re-sampling observations, storing the estimate across many re-samples, and averaging these estimates to form the final estimate. A variance reduction technique.</li>
<li>Statistical reasoning: if you are trying to understand a quantitative problem, a wonderful first-step to understand the problem better is to simulate it! The analytical solution is often very hard (or impossible), but the simulation is often much easier :-)</li>
</ul>
</div>
<div id="where-are-we-where-are-we-headed-2" class="section level3 unnumbered hasAnchor">
<h3>Where are we? Where are we headed?<a href="simulation.html#where-are-we-where-are-we-headed-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Up till now, you should have covered:</p>
<ul>
<li><code>R</code> basics</li>
<li>Visualization</li>
<li>Matrices and vectors</li>
<li>Functions, objects, loops</li>
<li>Joining real data</li>
</ul>
<p>In this module, we will start to work with generating data within R, from thin air, as it were. Doing simulation also strengthens your understanding of Probability (Section @ref{probability}).</p>
</div>
<div id="check-your-understanding-2" class="section level3 unnumbered hasAnchor">
<h3>Check your Understanding<a href="simulation.html#check-your-understanding-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>What does the <code>sample()</code> function do?</li>
<li>What does <code>runif()</code> stand for?</li>
<li>What is a <code>seed</code>?</li>
<li>What is a Monte Carlo?</li>
</ul>
<p>Check if you have an idea of how you might code the following tasks:</p>
<ul>
<li>Simulate 100 rolls of a die</li>
<li>Simulate one random ordering of 25 numbers</li>
<li>Simulate 100 values of white noise (uniform random variables)</li>
<li>Generate a “bootstrap” sample of an existing dataset</li>
</ul>
<p>We’re going to learn about this today!</p>
</div>
<div id="pick-a-sample-any-sample" class="section level2 hasAnchor">
<h2><span class="header-section-number">5.1</span> Pick a sample, any sample<a href="simulation.html#pick-a-sample-any-sample" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="the-sample-function" class="section level2 hasAnchor">
<h2><span class="header-section-number">5.2</span> The <code>sample()</code> function<a href="simulation.html#the-sample-function" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The core functions for coding up stochastic data revolves around several key functions, so we will simply review them here.</p>
<p>Suppose you have a vector of values <code>x</code> and from it you want to randomly sample a sample of length <code>size</code>. For this, use the <code>sample</code> function</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="simulation.html#cb145-1"></a><span class="kw">sample</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">size =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1]  4  2  8  9 10</code></pre>
<p>There are two subtypes of sampling – with and without replacement.</p>
<ol style="list-style-type: decimal">
<li>Sampling without replacement (<code>replace = FALSE</code>) means once an element of <code>x</code> is chosen, it will not be considered again:</li>
</ol>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="simulation.html#cb147-1"></a><span class="kw">sample</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">size =</span> <span class="dv">10</span>, <span class="dt">replace =</span> <span class="ot">FALSE</span>) <span class="co">## no number appears more than once</span></span></code></pre></div>
<pre><code>##  [1] 10  9  3  4  8  6  2  5  1  7</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Sampling with replacement (<code>replace = TRUE</code>) means that even if an element of <code>x</code> is chosen, it is put back in the pool and may be chosen again.</li>
</ol>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="simulation.html#cb149-1"></a><span class="kw">sample</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">size =</span> <span class="dv">10</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>) <span class="co">## any number can appear more than once</span></span></code></pre></div>
<pre><code>##  [1] 8 3 3 2 2 7 6 6 8 4</code></pre>
<p>It follows then that you cannot sample without replacement a sample that is larger than the pool.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="simulation.html#cb151-1"></a><span class="kw">sample</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">size =</span> <span class="dv">100</span>, <span class="dt">replace =</span> <span class="ot">FALSE</span>)</span></code></pre></div>
<pre><code>## Error in sample.int(length(x), size, replace, prob): cannot take a sample larger than the population when &#39;replace = FALSE&#39;</code></pre>
<p>So far, every element in <code>x</code> has had an equal probability of being chosen. In some application, we want a sampling scheme where some elements are more likely to be chosen than others. The argument <code>prob</code> handles this.</p>
<p>For example, this simulates 20 fair coin tosses (each outcome is equally likely to happen)</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="simulation.html#cb153-1"></a><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;Head&quot;</span>, <span class="st">&quot;Tail&quot;</span>), <span class="dt">size =</span> <span class="dv">20</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>), <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;Head&quot; &quot;Head&quot; &quot;Tail&quot; &quot;Head&quot; &quot;Head&quot; &quot;Tail&quot; &quot;Head&quot; &quot;Tail&quot; &quot;Head&quot; &quot;Tail&quot;
## [11] &quot;Head&quot; &quot;Head&quot; &quot;Head&quot; &quot;Head&quot; &quot;Head&quot; &quot;Head&quot; &quot;Head&quot; &quot;Tail&quot; &quot;Tail&quot; &quot;Head&quot;</code></pre>
<p>But this simulates 20 biased coin tosses, where say the probability of Tails is 4 times more likely than the number of Heads</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="simulation.html#cb155-1"></a><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;Head&quot;</span>, <span class="st">&quot;Tail&quot;</span>), <span class="dt">size =</span> <span class="dv">20</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.2</span>, <span class="fl">0.8</span>), <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;Tail&quot; &quot;Tail&quot; &quot;Tail&quot; &quot;Tail&quot; &quot;Tail&quot; &quot;Tail&quot; &quot;Tail&quot; &quot;Tail&quot; &quot;Tail&quot; &quot;Head&quot;
## [11] &quot;Head&quot; &quot;Head&quot; &quot;Head&quot; &quot;Tail&quot; &quot;Head&quot; &quot;Tail&quot; &quot;Tail&quot; &quot;Tail&quot; &quot;Head&quot; &quot;Tail&quot;</code></pre>
<div id="sampling-rows-from-a-dataframe" class="section level3 hasAnchor">
<h3><span class="header-section-number">5.2.1</span> Sampling rows from a dataframe<a href="simulation.html#sampling-rows-from-a-dataframe" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In tidyverse, there is a convenience function to sample rows randomly: <code>sample_n()</code> and <code>sample_frac()</code>.</p>
<p>For example, load the dataset on cars, <code>mtcars</code>, which has 32 observations.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="simulation.html#cb157-1"></a>mtcars</span></code></pre></div>
<pre><code>##                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
## Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
## AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
## Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
## Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
## Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
<p>sample_n picks a user-specified number of rows from the dataset:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="simulation.html#cb159-1"></a><span class="kw">sample_n</span>(mtcars, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>##                 mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Porsche 914-2  26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Hornet 4 Drive 21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Fiat X1-9      27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1</code></pre>
<p>Sometimes you want a X percent sample of your dataset. In this case use <code>sample_frac()</code></p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="simulation.html#cb161-1"></a><span class="kw">sample_frac</span>(mtcars, <span class="fl">0.10</span>)</span></code></pre></div>
<pre><code>##              mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Fiat X1-9   27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Datsun 710  22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Merc 450SLC 15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3</code></pre>
<p>As a side-note, these functions have very practical uses for any type of data analysis:</p>
<ul>
<li>Inspecting your dataset: using <code>head()</code> all the same time and looking over the first few rows might lead you to ignore any issues that end up in the bottom for whatever reason.</li>
<li>Testing your analysis with a small sample: If running analyses on a dataset takes more than a handful of seconds, change your dataset upstream to a fraction of the size so the rest of the code runs in less than a second. Once verifying your analysis code runs, then re-do it with your full dataset (by simply removing the <code>sample_n</code> / <code>sample_frac</code> line of code in the beginning). While three seconds may not sound like much, they accumulate and eat up time.</li>
</ul>
</div>
</div>
<div id="random-numbers-from-specific-distributions" class="section level2 hasAnchor">
<h2><span class="header-section-number">5.3</span> Random numbers from specific distributions<a href="simulation.html#random-numbers-from-specific-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="rbinom" class="section level3 unnumbered hasAnchor">
<h3><code>rbinom()</code><a href="simulation.html#rbinom" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>rbinom</code> builds upon <code>sample</code> as a tool to help you answer the question – what is the <em>total number of successes</em> I would get if I sampled a binary (Bernoulli) result from a test with <code>size</code> number of trials each, with a event-wise probability of <code>prob</code>. The first argument <code>n</code> asks me how many such numbers I want.</p>
<p>For example, I want to know how many Heads I would get if I flipped a fair coin 100 times.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="simulation.html#cb163-1"></a><span class="kw">rbinom</span>(<span class="dt">n =</span> <span class="dv">1</span>, <span class="dt">size =</span> <span class="dv">100</span>, <span class="dt">prob =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<pre><code>## [1] 49</code></pre>
<p>Now imagine this I wanted to do this experiment 10 times, which would require I flip the coin 10 x 100 = 1000 times! Helpfully, we can do this in one line</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="simulation.html#cb165-1"></a><span class="kw">rbinom</span>(<span class="dt">n =</span> <span class="dv">10</span>, <span class="dt">size =</span> <span class="dv">100</span>, <span class="dt">prob =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<pre><code>##  [1] 42 47 54 46 50 44 51 50 51 45</code></pre>
</div>
<div id="runif" class="section level3 unnumbered hasAnchor">
<h3><code>runif()</code><a href="simulation.html#runif" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>runif</code> also simulates a stochastic scheme where each event has equal probability of getting chosen like <code>sample</code>, but is a continuous rather than discrete system. We will cover this more in the next math module.</p>
<p>The intuition to emphasize here is that one can generate potentially infinite amounts (size <code>n</code>) of noise that is a essentially random</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="simulation.html#cb167-1"></a><span class="kw">runif</span>(<span class="dt">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 0.1097412 0.9292395 0.3095468 0.7333913 0.3997090</code></pre>
</div>
<div id="rnorm" class="section level3 unnumbered hasAnchor">
<h3><code>rnorm()</code><a href="simulation.html#rnorm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>rnorm</code> is also a continuous distribution, but draws from a Normal distribution – perhaps the most important distribution in statistics. It runs the same way as <code>runif</code></p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="simulation.html#cb169-1"></a><span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] -1.4822125 -0.1380801  0.4746995  0.2520717 -0.6706818</code></pre>
<p>To better visualize the difference between the output of <code>runif</code> and <code>rnorm</code>, let’s generate lots of each and plot a histogram.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="simulation.html#cb171-1"></a>from_runif &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dt">n =</span> <span class="dv">1000</span>)</span>
<span id="cb171-2"><a href="simulation.html#cb171-2"></a>from_rnorm &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">1000</span>)</span>
<span id="cb171-3"><a href="simulation.html#cb171-3"></a></span>
<span id="cb171-4"><a href="simulation.html#cb171-4"></a><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)) <span class="co">## base-R parameter for two plots at once</span></span>
<span id="cb171-5"><a href="simulation.html#cb171-5"></a><span class="kw">hist</span>(from_runif)</span>
<span id="cb171-6"><a href="simulation.html#cb171-6"></a><span class="kw">hist</span>(from_rnorm)</span></code></pre></div>
<p><img src="MathCamp_files/figure-html/unnamed-chunk-100-1.png" width="672" /></p>
</div>
</div>
<div id="r-p-and-d" class="section level2 hasAnchor">
<h2><span class="header-section-number">5.4</span> r, p, and d<a href="simulation.html#r-p-and-d" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Each distribution can do more than generate random numbers (the prefix <code>r</code>). We can compute the cumulative probability by the function <code>pbinom()</code>, <code>punif()</code>, and <code>pnorm()</code>. Also the density – the value of the PDF – by <code>dbinom()</code>, <code>dunif()</code> and <code>dnorm()</code>.</p>
</div>
<div id="set.seed" class="section level2 hasAnchor">
<h2><span class="header-section-number">5.5</span> <code>set.seed()</code><a href="simulation.html#set.seed" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>R</code> doesn’t have the ability to generate truly random numbers! Random numbers are actually very hard to generate. (Think: flipping a coin –&gt; can be perfectly predicted if I know wind speed, the angle the coin is flipped, etc.). Some people use random noise in the atmosphere or random behavior in quantum systems to generate “truly” (?) random numbers. Conversely, R uses deterministic algorithms which take as an input a “seed” and which then perform a series of operations to generate a sequence of random-seeming numbers (that is, numbers whose sequence is sufficiently hard to predict).</p>
<p>Let’s think about this another way. Sampling is a stochastic process, so every time you run <code>sample()</code> or <code>runif()</code> you are bound to get a different output (because different random seeds are used). This is intentional in some cases but you might want to avoid it in others. For example, you might want to diagnose a coding discrepancy by setting the random number generator to give the same number each time. To do this, use the function <code>set.seed()</code>.</p>
<p>In the function goes any number. When you run a sample function in the same command as a preceding <code>set.seed()</code>, the sampling function will always give you the same sequence of numbers. In a sense, the sampler is no longer random (in the sense of unpredictable to use; remember: it never was “truly” random in the first place)</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="simulation.html#cb172-1"></a><span class="kw">set.seed</span>(<span class="dv">02138</span>)</span>
<span id="cb172-2"><a href="simulation.html#cb172-2"></a><span class="kw">runif</span>(<span class="dt">n =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1] 0.51236144 0.61530551 0.37451441 0.43541258 0.21166530 0.17812129
##  [7] 0.04420775 0.45567854 0.88718264 0.06970056</code></pre>
<p>The random number generator should give you the exact same sequence of numbers if you precede the function by the same seed,</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="simulation.html#cb174-1"></a><span class="kw">set.seed</span>(<span class="dv">02138</span>)</span>
<span id="cb174-2"><a href="simulation.html#cb174-2"></a><span class="kw">runif</span>(<span class="dt">n =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1] 0.51236144 0.61530551 0.37451441 0.43541258 0.21166530 0.17812129
##  [7] 0.04420775 0.45567854 0.88718264 0.06970056</code></pre>
</div>
<div id="exercises-1" class="section level2 unnumbered hasAnchor">
<h2>Exercises<a href="simulation.html#exercises-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="census-sampling" class="section level3 unnumbered hasAnchor">
<h3>Census Sampling<a href="simulation.html#census-sampling" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>What can we learn from surveys of populations, and how wrong do we get if our sampling is biased?<a href="#fn18" class="footnote-ref" id="fnref18"><sup>18</sup></a> Suppose we want to estimate the proportion of U.S. residents who are non-white (<code>race != "White"</code>). In reality, we do not have any population dataset to utilize and so we <em>only see the sample survey</em>. Here, however, to understand how sampling works, let’s conveniently use the Census extract in some cases and pretend we didn’t in others.</p>
<ol style="list-style-type: lower-alpha">
<li><p>First, load <code>usc2010_001percent.csv</code> into your R session. After loading the <code>library(tidyverse)</code>, browse it. Although this is only a 0.01 percent extract, treat this as your population for pedagogical purposes. What is the population proportion of non-White residents?</p></li>
<li><p>Setting a seed to <code>1669482</code>, sample 100 respondents from this sample. What is the proportion of non-White residents in this <em>particular</em> sample? By how many percentage points are you off from (what we labelled as) the true proportion?</p></li>
<li><p>Now imagine what you did above was one survey. What would we get if we did 20 surveys?</p></li>
</ol>
<p>To simulate this, write a loop that does the same exercise 20 times, each time computing a sample proportion. Use the same seed at the top, but be careful to position the <code>set.seed</code> function such that it generates the same sequence of 20 samples, rather than 20 of the same sample.</p>
<p>Try doing this with a <code>for</code> loop and storing your sample proportions in a new length-20 vector. (Suggestion: make an empty vector first as a container). After running the loop, show a histogram of the 20 values. Also what is the average of the 20 sample estimates?</p>
<ol start="4" style="list-style-type: lower-alpha">
<li>Now, to make things more real, let’s introduce some response bias. The goal here is not to correct response bias but to induce it and see how it affects our estimates. Suppose that non-White residents are 10 percent less likely to respond to enter your survey than White respondents. This is plausible if you think that the Census is from 2010 but you are polling in 2018, and racial minorities are more geographically mobile than Whites. Repeat the same exercise in (c) by modeling this behavior.</li>
</ol>
<p>You can do this by creating a variable, e.g. <code>propensity</code>, that is 0.9 for non-Whites and 1 otherwise. Then, you can refer to it in the propensity argument.</p>
<ol start="5" style="list-style-type: lower-alpha">
<li><p>Finally, we want to see if more data (“Big Data”) will improve our estimates. Using the same unequal response rates framework as (d), repeat the same exercise but instead of each poll collecting 100 responses, we collect 10,000.</p></li>
<li><p>Optional - visualize your 2 pairs of 20 estimates, with a bar showing the “correct” population average.</p></li>
</ol>
</div>
<div id="conditional-proportions" class="section level3 unnumbered hasAnchor">
<h3>Conditional Proportions<a href="simulation.html#conditional-proportions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This example is not on simulation, but is meant to reinforce some of the probability discussion from math lecture.</p>
<p>Read in the Upshot Siena poll from Fall 2016, <code>data/input/upshot-siena-polls.csv</code>.</p>
<p>In addition to some standard demographic questions, we will focus on one called <code>vt_pres_2</code> in the csv. This is a two-way presidential vote question, asking respondents who they plan to vote for President if the election were held today – Donald Trump, the Republican, or Hilary Clinton, the Democrat, with options for Other candidates as well. For this problem, use the two-way vote question rather than the 4-way vote question.</p>
<ol style="list-style-type: lower-alpha">
<li><p>Drop the the respondents who answered the November poll (i.e. those for which <code>poll == "November"</code>). We do this in order to ignore this November population in all subsequent parts of this question because they were not asked the Presidential vote question.</p></li>
<li><p>Using the dataset after the procedure in (a), find the proportion of <em>poll respondents</em> (those who are in the sample) who support Donald Trump.</p></li>
<li><p>Among those who supported Donald Trump, what proportion of them has a Bachelor’s degree or higher (i.e. have a Bachelor’s, Graduate, or other Professional Degree)?</p></li>
<li><p>Among those who did not support Donald Trump (i.e. including supporters of Hilary Clinton, another candidate, or those who refused to answer the question), what proportion of them has a Bachelor’s degree or higher?</p></li>
<li><p>Express the numbers in the previous parts as probabilities of specified events. Define your own symbols: For example, we can let <span class="math inline">\(T\)</span> be the event that a randomly selected respondent in the poll supports Donald Trump, then the proportion in part (b) is the probability <span class="math inline">\(P(T).\)</span></p></li>
<li><p>Suppose we randomly sampled a person who participated in the survey and found that he/she had a Bachelor’s degree or higher. Given this evidence, what is the probability that the same person supports Donald Trump? Use Bayes Rule and show your work – that is, do not use data or R to compute the quantity directly. Then, verify this is the case via R.</p></li>
</ol>
</div>
<div id="the-birthday-problem" class="section level3 unnumbered hasAnchor">
<h3>The Birthday problem<a href="simulation.html#the-birthday-problem" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Write code that will answer the well-known birthday problem via simulation.<a href="#fn19" class="footnote-ref" id="fnref19"><sup>19</sup></a></p>
<p>The problem is fairly simple: Suppose <span class="math inline">\(k\)</span> people gather together in a room. What is the probability at least two people share the same birthday?</p>
<p>To simplify reality a bit, assume that (1) there are no leap years, and so there are always 365 days in a year, and (2) a given individual’s birthday is randomly assigned and independent from each other.</p>
<p><em>Step 1</em>: Set <code>k</code> to a concrete number. Pick a number from 1 to 365 randomly, <code>k</code> times to simulate birthdays (would this be with replacement or without?).</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="simulation.html#cb176-1"></a><span class="co"># Your code</span></span></code></pre></div>
<p><em>Step 2</em>: Write a line (or two) of code that gives a <code>TRUE</code> or <code>FALSE</code> statement of whether or not at least two people share the same birth date.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="simulation.html#cb177-1"></a><span class="co"># Your code</span></span></code></pre></div>
<p><em>Step 3</em>: The above steps will generate a <code>TRUE</code> or <code>FALSE</code> answer for your event of interest, but only for one realization of an event in the sample space. In order to estimate the <em>probability</em> of your event happening, we need a “stochastic”, as opposed to “deterministic”, method. To do this, write a loop that does Steps 1 and 2 repeatedly for many times, call that number of times <code>sims</code>. For each of <code>sims</code> iteration, your code should give you a <code>TRUE</code> or <code>FALSE</code> answer. Code up a way to store these estimates.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="simulation.html#cb178-1"></a><span class="co"># Your code</span></span></code></pre></div>
<p><em>Step 4</em>: Finally, generalize the function further by letting <code>k</code> be a user-defined number. You have now created a <em>Monte Carlo simulation</em>!</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="simulation.html#cb179-1"></a><span class="co"># Your code</span></span></code></pre></div>
<p><em>Step 5</em>: Generate a table or plot that shows how the probability of sharing a birthday changes by <code>k</code> (fixing <code>sims</code> at a large number like <code>1000</code>). Also generate a similar plot that shows how the probability of sharing a birthday changes by <code>sims</code> (fixing <code>k</code> at some arbitrary number like <code>10</code>).</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="simulation.html#cb180-1"></a><span class="co"># Your code</span></span></code></pre></div>
<p><em>Extra credit</em>: Give an “analytical” answer to this problem, that is an answer through deriving the mathematical expressions of the probability.</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="simulation.html#cb181-1"></a><span class="co"># Your equations</span></span></code></pre></div>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="13">
<li id="fn13"><p>Module originally written by Connor Jerzak and Shiro Kuriwaki<a href="simulation.html#fnref13" class="footnote-back">↩︎</a></p></li>
<li id="fn14"><p><a href="http://www-personal.umich.edu/~axe/research/Dissemination.pdf">Axelrod, Robert. 1997. “The Dissemination of Culture.” <em>Journal of Conflict Resolution</em> 41(2): 203–26.</a><a href="simulation.html#fnref14" class="footnote-back">↩︎</a></p></li>
<li id="fn15"><p><a href="http://www-personal.umich.edu/~jowei/florida.pdf">Chen, Jowei, and Jonathan Rodden. “Unintentional Gerrymandering: Political Geography and Electoral Bias in Legislatures. <em>Quarterly Journal of Political Science</em>, 8:239-269”</a><a href="simulation.html#fnref15" class="footnote-back">↩︎</a></p></li>
<li id="fn16"><p><a href="https://gking.harvard.edu/files/abs/evil-abs.shtml">King, Gary, et al. “Analyzing Incomplete Political Science Data: An Alternative Algorithm for Multiple Imputation”. <em>American Political Science Review</em>, 95: 49-69.</a><a href="simulation.html#fnref16" class="footnote-back">↩︎</a></p></li>
<li id="fn17"><p><a href="http://www.jstatsoft.org/v45/i07/">James Honaker, Gary King, Matthew Blackwell (2011). Amelia II: A Program for Missing Data. Journal of
Statistical Software, 45(7), 1-47.</a><a href="simulation.html#fnref17" class="footnote-back">↩︎</a></p></li>
<li id="fn18"><p>This example is inspired from <a href="https://statistics.fas.harvard.edu/files/statistics-2/files/statistical_paradises_and_paradoxes.pdf">Meng, Xiao-Li (2018). Statistical paradises and paradoxes in big data (I): Law of large populations, big data paradox, and the 2016 US presidential election. <em>Annals of Applied Statistics</em> 12:2, 685–726. doi:10.1214/18-AOAS1161SF.</a><a href="simulation.html#fnref18" class="footnote-back">↩︎</a></p></li>
<li id="fn19"><p>This exercise draws from Imai (2017)<a href="simulation.html#fnref19" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dataviz.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="nonwysiwyg.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": {
"link": "https://github.com/UCSDPoliMathCamp/MathCamp/edit/main/14_simulation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["MathCamp.pdf", "MathCamp.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"info": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
